{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/adminpanel/adminpanel.component.html","./src/app/alumnopanel/alumnopanel.component.html","./src/app/app.component.html","./src/app/login/login.component.html","./node_modules/tslib/tslib.es6.js","./src/app/adminpanel/adminpanel.component.css","./src/app/adminpanel/adminpanel.component.ts","./src/app/alumnopanel/alumnopanel.component.css","./src/app/alumnopanel/alumnopanel.component.ts","./src/app/app-routing.module.ts","./src/app/app.component.css","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/login/login.component.css","./src/app/login/login.component.ts","./src/app/services/authentication/authentication.service.ts","./src/app/services/firestore/firestore.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"<div class=\\\"container-fluid\\\">\\n\\n    <nav class=\\\"navbar navbar-expand-lg navbar-light bg-light cursor\\\">\\n\\n        <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarTogglerDemo02\\\"\\n            aria-controls=\\\"navbarTogglerDemo02\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\"\\n            (click)=\\\"toggleCollapsed()\\\">\\n            <span class=\\\"navbar-toggler-icon\\\"></span>\\n        </button>\\n\\n        <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarTogglerDemo02\\\"\\n            [ngClass]=\\\"{'collapse': collapsed, 'navbar-collapse': true}\\\">\\n            <ul class=\\\"navbar-nav mr-auto mt-2 mt-lg-0\\\">\\n                <li class=\\\"nav-item\\\">\\n                    <!-- <a class=\\\"nav-link\\\" href=\\\"#\\\">Home <span class=\\\"sr-only\\\">(current)</span></a> -->\\n                    <div class=\\\"nav-link\\\"\\n                        (click)=\\\"reload()\\\">\\n                        Inicio</div>\\n                </li>\\n                <li class=\\\"nav-item\\\">\\n                    <!-- <a class=\\\"nav-link\\\" href=\\\"#\\\">Home <span class=\\\"sr-only\\\">(current)</span></a> -->\\n                    <div class=\\\"nav-link\\\"\\n                        (click)=\\\"previaVistaResultados=false;verDetalleResultado=false;tablaFinal=false;ventanaSimulacion=false;identificacion=false;primerpaso=false;tercerpaso=false;cuartopaso=false;identificacion=false;verDetallePlantilla=false;\\n                        previaCreacionPlantilla=false;collapsed=true;mensajeRegistro=0;registrarAlumno=false;registrarRecursos=true;\\n                        mostrarProyectosValidacionRecursos();creacionPlantilla=false;ventanaSimulacion=false;verDetalleSimulacion=false;previaRegistro=false\\\">\\n                        Validación de Recursos</div>\\n                </li>\\n                <li class=\\\"nav-item\\\">\\n                    <!-- <a class=\\\"nav-link\\\" href=\\\"#\\\">Home <span class=\\\"sr-only\\\">(current)</span></a> -->\\n                    <div class=\\\"nav-link\\\"\\n                        (click)=\\\"previaVistaResultados=false;verDetalleResultado=false;tablaFinal=false;verDetallePlantilla=false;collapsed=true;mensajeRegistro=0;nuevoProyecto();ventanaSimulacion=false;registrarAlumno=false;\\n                        registrarRecursos=false;tercerpaso=false;cuartopaso=false;verDetalleSimulacion=false;creacionPlantilla=false;previaRegistro=false\\\">\\n                        Ver/Crear plantillas</div>\\n                </li>\\n                <li class=\\\"nav-item\\\">\\n                    <div class=\\\"nav-link\\\" (click)=\\\"previaVistaResultados=false;verDetalleResultado=false;tablaFinal=false;identificacion=false;primerpaso=false;tercerpaso=false;cuartopaso=false;identificacion=false;verDetallePlantilla=false;\\n                        collapsed=true;mensajeRegistro=0;descargaProyectosSimulacion();creacionPlantilla=false;registrarAlumno=false;registrarRecursos=false;\\n                        previaCreacionPlantilla=false;verDetalleSimulacion=false;previaRegistro=false\\\">\\n                        Ver proyectos en simulación</div>\\n                    <!-- <a class=\\\"nav-link\\\" href=\\\"#\\\">Link</a> -->\\n                </li>\\n                <li class=\\\"nav-item\\\">\\n                    <div class=\\\"nav-link\\\"\\n                        (click)=\\\"verDetalleResultado=false;tablaFinal=false;identificacion=false;primerpaso=false;tercerpaso=false;cuartopaso=false;identificacion=false;verDetallePlantilla=false;\\n                        collapsed=true;mensajeRegistro=0;creacionPlantilla=false;registrarAlumno=false;registrarRecursos=false;\\n                        previaCreacionPlantilla=false;verDetalleSimulacion=false;previaRegistro=false;descargaProyectosFinalizados();ventanaSimulacion=false\\\">\\n                        Ver proyectos finalizados</div>\\n                    <!-- <a class=\\\"nav-link\\\" href=\\\"#\\\">Link</a> -->\\n                </li>\\n\\n                <li class=\\\"nav-item\\\">\\n                    <div class=\\\"nav-link\\\"\\n                        (click)=\\\"previaVistaResultados=false;verDetalleResultado=false;tablaFinal=false;identificacion=false;primerpaso=false;tercerpaso=false;cuartopaso=false;identificacion=false;verDetallePlantilla=false;\\n                        collapsed=true;registrarAlumno=false;previaRegistro=true;registrarRecursos=false;creacionPlantilla=false;\\n                        ventanaSimulacion=false;previaCreacionPlantilla=false;verDetalleSimulacion=false;getUsuarios();\\\">\\n                        Ver/Registrar Usuarios</div>\\n                    <!-- <a class=\\\"nav-link disabled\\\" href=\\\"#\\\">Disabled</a> -->\\n                </li>\\n            </ul>\\n\\n            <div class=\\\"mx-auto\\\">\\n                <a class=\\\"navbar-brand\\\">Panel del Profesor</a>\\n            </div>\\n            <div>\\n                <ul class=\\\"form-inline my-2 my-lg-0\\\">\\n                    <li class=\\\"nav-item\\\">\\n                        <div class=\\\"nav-link\\\" (click)=\\\"logOut()\\\">Hola, {{profesor.data.nombre}} -> Cerrar Sesión</div>\\n                    </li>\\n                </ul>\\n            </div>\\n        </div>\\n    </nav>\\n\\n    <!-- INICIO -->\\n    <div *ngIf=\\\"!previaRegistro && !registrarAlumno && !proyecto && !previaCreacionPlantilla && !verDetallePlantilla\\n    && !creacionPlantilla && !registrarRecursos && !formularioRecursos && !nuevosRecursos && !ventanaSimulacion\\n     && !verDetalleSimulacion && !tablaFinal && !previaVistaResultados && !verDetalleResultado\\\">\\n        <br>\\n        <br>\\n        <h6>\\n            Hola {{profesor.data.nombre}}, bienvenido!!:\\n        </h6>\\n    </div>\\n    <div>\\n\\n        <!-- LISTADO DE ALUMNOS -->\\n       \\n        <div *ngIf=\\\"previaRegistro && this.usuarios.length>0\\\">\\n            <br>\\n\\n            <h6>Estos son los alumnos que actualmente están creados, para crear uno nuevo haz clic en crear al final de\\n                esta lista.</h6>\\n            <table class=\\\"table\\\">\\n                <thead class=\\\"thead-dark\\\">\\n                    <tr>\\n\\n                        <td>\\n                            Grupo\\n                        </td>\\n                        <td>\\n                            Componentes\\n                        </td>\\n                        <td>\\n                            E-mail\\n                        </td>\\n                        <td>\\n                            Rol\\n                        </td>\\n                        <td>\\n                            Acción\\n                        </td>\\n\\n\\n                    </tr>\\n                </thead>\\n                <tr *ngFor=\\\"let  usuario of this.usuarios; let i = index\\\" >\\n                    <td>\\n                        {{usuario.nombre}}\\n                    </td>\\n                    <td>\\n                        {{usuario.componentes}}\\n                    </td>\\n\\n                    <td>\\n                        {{usuario.email}}\\n                    </td>\\n                    <td>\\n                        {{usuario.rol}}\\n                    </td>\\n                    <td>\\n                        <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Eliminar\\\"\\n                            (click)=\\\"eliminarAlumno(usuario,i)\\\" [hidden]=\\\"usuario.email==profesor.data.email\\\">\\n                    </td>\\n\\n                </tr>\\n                <tr>\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Crear Usuario\\\"\\n                        (click)=\\\"registrarAlumno=true;previaRegistro=false;\\\">\\n                </tr>\\n\\n            </table>\\n            <div>\\n                <h5 *ngIf=\\\"mensajeRegistro==1\\\">El alumno ha sido registrado correctamente.</h5>\\n                <h5 *ngIf=\\\"mensajeRegistro==2\\\">Se ha producido un error en el registro, inténtalo de nuevo.</h5>\\n\\n            </div>\\n\\n        </div>\\n        <!-- FORMULARIO REGISTRO ALUMNOS -->\\n\\n\\n\\n        <form *ngIf=\\\"registrarAlumno\\\" (ngSubmit)=\\\"registrar(newUserForm.value)\\\" [formGroup]=\\\"newUserForm\\\">\\n            <div class=\\\"form-group\\\">\\n                <label>Nombre del Grupo/Profesor</label>\\n                <input class=\\\"form-control\\\" id=\\\"nombre\\\" placeholder=\\\"Introduce el nombre completo del grupo*.\\\"\\n                    formControlName=\\\"nombre\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <label>Componentes/Profesor</label>\\n                <input class=\\\"form-control\\\" id=\\\"componentes\\\"\\n                    placeholder=\\\"Introduce el nombre de los componentes del grupo*.\\\" formControlName=\\\"componentes\\\">\\n            </div>\\n\\n            <div class=\\\"form-group\\\">\\n                <label>E-mail</label>\\n                <input class=\\\"form-control\\\" id=\\\"email\\\"\\n                    placeholder=\\\"Introduce el email de uno de los usuarios del grupo.\\\" formControlName=\\\"email\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <label>Contraseña</label>\\n                <input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"contrasenia1\\\"\\n                    placeholder=\\\"Introduce la contraseña que tendrá el alumno por defecto.\\\" formControlName=\\\"password\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <label>Tipo de usuario</label>\\n                <select [(ngModel)]=\\\"rol\\\" class=\\\"form-control\\\" formControlName=\\\"rol\\\">\\n                    <option value=\\\"0\\\">Selecciona una opción</option>\\n                    <option *ngFor=\\\"let rol of roles\\\">\\n                        {{rol}}\\n                    </option>\\n                </select>\\n            </div>\\n            <br>\\n            <h6>*En caso de que el usuario a registrar sea un profesor, introducir aquí el nombre del profesor.</h6>\\n            <br>\\n            <table>\\n                <tr>\\n                    <td>\\n                        <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" [disabled]=\\\"!newUserForm.valid\\\"\\n                            value=\\\"Registrar\\\">\\n\\n                    </td>\\n                    <td>\\n                        <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Volver\\\"\\n                            (click)=\\\"registrarAlumno=false;previaRegistro=true;\\\">\\n                    </td>\\n                </tr>\\n            </table>\\n        </form>\\n        <!-- <div>\\n            <h5 *ngIf=\\\"mensajeRegistro==1\\\">El alumno ha sido registrado correctamente.</h5>\\n            <h5 *ngIf=\\\"mensajeRegistro==2\\\">Se ha producido un error en el registro, inténtalo de nuevo.</h5>\\n\\n        </div> -->\\n\\n    </div>\\n\\n\\n    <!-- Pantalla principal plantillas-->\\n    <div *ngIf=\\\"proyecto && previaCreacionPlantilla\\\">\\n        <br>\\n\\n        <h6>Estas son las plantillas que actualmente están creadas, para crear una nueva haz clic en crear al final de\\n            esta lista.</h6>\\n        <table class=\\\"table\\\">\\n            <thead class=\\\"thead-dark\\\">\\n                <tr>\\n\\n                    <td>\\n                        Tipo\\n                    </td>\\n                    <td>\\n                        Descripción\\n                    </td>\\n                    <td>\\n                        Acción\\n                    </td>\\n                </tr>\\n            </thead>\\n            <tr *ngFor=\\\"let plantilla of this.plantillas; let i = index\\\">\\n                <td>\\n                    {{plantilla.tipo}}\\n                </td>\\n                <td>\\n                    {{plantilla.descripcion}}\\n                </td>\\n                <td>\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Ver detalle\\\"\\n                        (click)=\\\"verDetallePlantilla=true;previaCreacionPlantilla=false;detallePlantillaActual=plantilla\\\">\\n                </td>\\n            </tr>\\n            <tr>\\n                <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Crear Plantilla\\\"\\n                    (click)=\\\"creacionPlantilla=true;previaCreacionPlantilla=false;introduccion=true\\\">\\n            </tr>\\n\\n\\n        </table>\\n    </div>\\n\\n    <!-- DEtalle plantillas -->\\n    <div *ngIf=\\\"verDetallePlantilla\\\">\\n        <br>\\n        <h5>Este es el detalle de la plantilla: {{detallePlantillaActual.tipo}}.\\n        </h5>\\n        <br>\\n        <h6>A continuación podrás encontrar las tareas y recursos de los que está formada la plantilla.</h6>\\n        <br>\\n        <h6>TAREAS DE LA PLANTILLA</h6>\\n        <table class=\\\"table\\\">\\n            <thead class=\\\"thead-dark\\\">\\n                <tr>\\n                    <td>\\n                        NOMBRE DE TAREA:\\n                    </td>\\n                    <td>\\n                        DESCRIPCION:\\n                    </td>\\n                    <td>\\n                        PORCENTAJE ÓPTIMO:\\n                    </td>\\n                    <td>\\n                        PORCENTAJE PÉSIMO:\\n                    </td>\\n                    <td>\\n                        RECURSOS MÍNIMOS\\n                    </td>\\n\\n                </tr>\\n            </thead>\\n            <tr *ngFor=\\\"let tarea of detallePlantillaActual.tareas\\\">\\n                <td>{{tarea.nombre}}</td>\\n                <td>{{tarea.descripcion}}</td>\\n                <td>{{tarea.pOptimo}}</td>\\n                <td>{{tarea.pPesimo}}</td>\\n                <td>\\n                    <table>\\n                        <tr>\\n                            <td>NOMBRE DEL RECURSO</td>\\n                            <td>CANTIDAD NECESARIA</td>\\n                        </tr>\\n\\n                        <tr *ngFor=\\\"let recurso of tarea.recursosMin; let j = index\\\">\\n                            <td>{{recurso.nombre}}</td>\\n                            <td>{{recurso.cantidad}}</td>\\n                        </tr>\\n                    </table>\\n                </td>\\n\\n            </tr>\\n\\n        </table>\\n\\n        <br>\\n        <h6>RECURSOS DE LA PLANTILLA</h6>\\n        <table class=\\\"table\\\">\\n            <thead class=\\\"thead-dark\\\">\\n                <tr>\\n                    <td>\\n                        NOMBRE DEL RECURSO:\\n                    </td>\\n                    <td>\\n                        DESCRIPCION:\\n                    </td>\\n                    <td>\\n                        % DEGRADACIÓN:\\n                    </td>\\n\\n                </tr>\\n            </thead>\\n            <tr *ngFor=\\\"let recurso of detallePlantillaActual.recursos\\\">\\n                <td>{{recurso.nombre}}</td>\\n                <td>{{recurso.descripcion}}</td>\\n                <td>{{recurso.degradacion}}</td>\\n            </tr>\\n\\n            <tr>\\n                <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Volver\\\"\\n                    (click)=\\\"verDetallePlantilla=false;previaCreacionPlantilla=true;detallePlantillaActual=null\\\">\\n            </tr>\\n\\n        </table>\\n\\n\\n\\n    </div>\\n\\n    <!-- Creacion Plantilla -->\\n    <div *ngIf=\\\"proyecto && creacionPlantilla\\\">\\n        <h2>\\n            Creación de una plantilla de proyecto.\\n        </h2>\\n        <br>\\n        <div *ngIf=\\\"introduccion\\\">\\n            <h6>\\n                Para crear una plantilla de proyecto, deberás cumplimentar los siguientes formularios que constan de:\\n            </h6>\\n            <ol>\\n                <li>\\n                    Identificación.\\n                </li>\\n                <li>\\n                    Recursos Tipo.\\n                </li>\\n                <li>\\n                    Tareas Tipo.\\n                </li>\\n                <li>\\n                    Asignación recursos mínimos de cada tarea.\\n                </li>\\n            </ol>\\n            <br>\\n            <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Comenzar\\\"\\n                (click)=\\\"identificacion=true;introduccion=false\\\">\\n            <br>\\n\\n\\n        </div>\\n        <div *ngIf=\\\"identificacion\\\">\\n            <h5>Identificación</h5>\\n            <!-- Formulario creación del proyecto-->\\n            <!-- Nombre, descripcion, [tipo de proyecto(software,general)], calendarizar, sin sabados ni domingos -->\\n            <br>\\n            <form *ngIf=\\\"proyecto && identificacion\\\">\\n                <h6>Tipo de la plantilla del proyecto.</h6>\\n                <input class=\\\"form-control\\\" placeholder=\\\"Tipo del proyecto.  Ej:Proyecto Software.\\\"\\n                    [(ngModel)]=\\\"proyecto.tipo\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                <br>\\n                <h6>Descripción de la plantilla.</h6>\\n                <input class=\\\"form-control\\\" placeholder=\\\"Descripción de la plantilla.\\\"\\n                    [(ngModel)]=\\\"proyecto.descripcion\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                <br>\\n                <input [disabled]=\\\"!proyecto.tipo || !proyecto.descripcion\\\" class=\\\"btn btn-outline-secondary\\\"\\n                    type=\\\"button\\\" value=\\\"Siguiente\\\" (click)=\\\"primerpaso=true;identificacion=false;\\\">\\n\\n\\n\\n            </form>\\n        </div>\\n        <br>\\n        <div *ngIf=\\\"primerpaso\\\">\\n            <h5>Recursos</h5>\\n            <h6>A continuación propón una lista de recursos que serán necesarios para realizar este tipo de proyecto.\\n            </h6>\\n            <form *ngIf=\\\"primerpaso\\\">\\n                <table *ngIf=\\\"mostrarTablaRecursos\\\" class=\\\"table\\\">\\n                    <tr>\\n                        <td>\\n\\n                        </td>\\n                        <td>\\n                            NOMBRE\\n                        </td>\\n                        <td>\\n                            DESCRIPCIÓN\\n                        </td>\\n                        <td>\\n                            % FALLO\\n                        </td>\\n\\n                    </tr>\\n                    <tr *ngFor=\\\"let recurso of proyecto.recursos; let i = index\\\">\\n                        <td>Recurso {{ i + 1 }}</td>\\n\\n                        <td>\\n                            <input class=\\\"form-control\\\" placeholder=\\\"Nombre del Recurso.\\\" [(ngModel)]=\\\"recurso.nombre\\\"\\n                                [ngModelOptions]=\\\"{standalone: true}\\\">\\n                        </td>\\n                        <td>\\n                            <input class=\\\"form-control\\\" placeholder=\\\"Descripción del Recurso.\\\"\\n                                [(ngModel)]=\\\"recurso.descripcion\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n\\n                        </td>\\n                        <td>\\n                            <input class=\\\"form-control\\\" type=\\\"number\\\" placeholder=\\\"% fallo\\\" min=\\\"0\\\" max=\\\"100\\\" step=\\\"1\\\"\\n                                [(ngModel)]=\\\"recurso.degradacion\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n\\n                        </td>\\n                        <td>\\n                            <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Eliminar\\\"\\n                                (click)=\\\"eliminarElemento(i,'recurso')\\\">\\n                        </td>\\n\\n\\n                    </tr>\\n\\n                </table>\\n                <br>\\n\\n                <table>\\n                    <tr>\\n\\n                        <td>\\n                            <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Añadir recurso\\\"\\n                                (click)=\\\"newRecurso()\\\">\\n\\n                        </td>\\n                        <td>\\n                            <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Anterior\\\"\\n                                (click)=\\\"primerpaso=false;identificacion=true;\\\">\\n                        </td>\\n\\n                        <td>\\n                            <input [disabled]=\\\"!hayUnRecurso()\\\" class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\"\\n                                value=\\\"Siguiente\\\" (click)=\\\"primerpaso=false;segundopaso=false;tercerpaso=true;\\\">\\n                        </td>\\n                    </tr>\\n                </table>\\n\\n\\n            </form>\\n        </div>\\n        <div *ngIf=\\\"tercerpaso\\\">\\n            <br>\\n            <h6>\\n                En este formulario deberás añadir las tareas básicas de las que constará la plantilla.\\n\\n            </h6>\\n            <form>\\n\\n                <table class=\\\"table\\\" *ngIf=\\\"mostrarTabla\\\">\\n                    <tr>\\n                        <td>\\n\\n                        </td>\\n                        <td>\\n                            TAREAS\\n                        </td>\\n                        <td>\\n                            DESCRIPCIÓN\\n                        </td>\\n                        <td>\\n                            % OPTIMO\\n                        </td>\\n                        <td>\\n                            % PESIMO\\n                        </td>\\n\\n                    </tr>\\n                    <tr *ngFor=\\\"let tarea of proyecto.tareas; let i = index\\\">\\n                        <td>Tarea {{ i + 1 }}</td>\\n                        <td>\\n                            <input class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Nombre tarea\\\"\\n                                [(ngModel)]=\\\"tarea.nombre\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                        </td>\\n                        <td>\\n                            <input class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Descripción tarea\\\"\\n                                [(ngModel)]=\\\"tarea.descripcion\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                        </td>\\n                        <td>\\n                            <input class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" [(ngModel)]=\\\"tarea.pOptimo\\\"\\n                                [ngModelOptions]=\\\"{standalone: true}\\\">\\n                        </td>\\n                        <td>\\n                            <input class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" [(ngModel)]=\\\"tarea.pPesimo\\\"\\n                                [ngModelOptions]=\\\"{standalone: true}\\\">\\n                        </td>\\n                        <td>\\n                            <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Eliminar\\\"\\n                                (click)=\\\"eliminarElemento(i,'tarea')\\\">\\n                        </td>\\n\\n\\n\\n                    </tr>\\n                </table>\\n                <br>\\n                <table>\\n                    <tr>\\n                        <td>\\n                            <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Añadir tarea\\\"\\n                                (click)=\\\"addTarea()\\\">\\n\\n                        </td>\\n                        <td>\\n                            <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Anterior\\\"\\n                                (click)=\\\"primerpaso=true;tercerpaso=false;\\\">\\n                        </td>\\n                        <td>\\n                            <input [disabled]=\\\"!hayUnaTarea()\\\" type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\"\\n                                value=\\\"Siguiente\\\" (click)=\\\"tercerpaso=false;cuartopaso=true;previaCreacionTareas()\\\">\\n\\n                        </td>\\n\\n\\n                    </tr>\\n                </table>\\n            </form>\\n\\n\\n        </div>\\n\\n        <div *ngIf=\\\"cuartopaso\\\">\\n            <br>\\n            <h6>A continuación introduce una cantidad de recursos mínimos necesarios para que la tarea se lleve a cabo.</h6>\\n            <form>\\n                <table class=\\\"table\\\">\\n                    <tr>\\n                        <td>\\n                            NOMBRE DE LA TAREA\\n                        </td>\\n                        <td>\\n                            RECURSOS\\n                        </td>\\n                    </tr>\\n                    <tr *ngFor=\\\"let tarea of proyecto.tareas; let i = index\\\">\\n                        <td>\\n                            {{tarea.nombre}}\\n                        </td>\\n                        <td>\\n                            <table>\\n                                <tr>\\n                                    <td>NOMBRE DEL RECURSO</td>\\n                                    <td>CANTIDAD NECESARIA</td>\\n                                </tr>\\n\\n                                <tr *ngFor=\\\"let recurso of proyecto.recursos; let j = index\\\">\\n                                    <td>{{recurso.nombre}}</td>\\n                                    <td><input min=\\\"0\\\" type=\\\"number\\\" [(ngModel)]=\\\"tarea.recursosMin[j].cantidad\\\"\\n                                            [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"form-control\\\">\\n                                    </td>\\n                                </tr>\\n                            </table>\\n                        </td>\\n                    </tr>\\n                </table>\\n                <table>\\n                    <td>\\n                        <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Anterior\\\"\\n                            (click)=\\\"tercerpaso=true;primerpaso=false;cuartopaso=false\\\">\\n                    </td>\\n                    <td>\\n                        <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Crear\\\"\\n                            (click)=\\\"guardarProyecto()\\\">\\n                    </td>\\n                </table>\\n            </form>\\n        </div>\\n    </div>\\n\\n\\n    <!-- Registro y administración de recursos para un proyecto -->\\n    <div class=\\\"mx-auto\\\" *ngIf=\\\"registrarRecursos && alumnosconproyectos.length==0\\\">\\n        <br>\\n        <h6>\\n            No hay ningún proyecto pendiente de validar sus recursos, puede haber ocurrido un error en la carga de la\\n            página, recarga de nuevo o vuelve más tarde.\\n        </h6>\\n    </div>\\n    <div class=\\\"mx-auto\\\" *ngIf=\\\"registrarRecursos && alumnosconproyectos.length>0\\\">\\n        <br>\\n        <h6>\\n            A continuación se muestra una lista de proyectos pendientes de validar sus recursos.\\n        </h6>\\n        <br>\\n        <table class=\\\"table\\\">\\n            <thead class=\\\"thead-dark\\\">\\n                <tr>\\n                    <td>\\n                        Nombre del alumno.\\n                    </td>\\n                    <td>\\n                        Nombre del proyecto.\\n                    </td>\\n                    <td>\\n                        Tipo del proyecto.\\n                    </td>\\n                    <td>\\n                        Acción.\\n                    </td>\\n                </tr>\\n            </thead>\\n\\n            <tr *ngFor=\\\"let user of alumnosconproyectos\\\">\\n                <td>\\n                    {{user.usuario.data.nombre}}\\n                </td>\\n                <td>\\n                    {{user.proyectos.nombre}}\\n                </td>\\n                <td>\\n                    {{user.proyectos.tipo}}\\n                </td>\\n                <td>\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Validar Recursos\\\"\\n                        (click)=\\\"previaAsignacionRec(user.usuario.data.nombre,user.proyectos.nombre,user.proyectos.recursos,user.proyectos.descripcion,user.usuario.id,user.proyectos.tareas)\\\">\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n\\n\\n    <!-- Formulario recursos administracion -->\\n    <div *ngIf=\\\"formularioRecursos && !nuevosRecursos\\\">\\n        <br>\\n        <h4>\\n            VALIDACIÓN DE RECURSOS\\n        </h4>\\n        <br>\\n        <h6>\\n            Realiza los cambios oportunos. Si consideras que no es necesario realizar cambios deja los campos tal cuál.\\n        </h6>\\n        <br>\\n        <table class=\\\"table\\\">\\n            <tr>\\n                <td>\\n                    Nombre del recurso.\\n                </td>\\n                <td>\\n                    Descripción.\\n                </td>\\n                <!-- <td>\\n                        Validado.\\n                    </td> -->\\n\\n            </tr>\\n            <tr *ngFor=\\\"let recurso of recursosProyectoActual;let i = index\\\">\\n                <td>\\n                    {{recurso.nombre}}\\n                </td>\\n                <td>\\n                    {{recurso.descripcion}}\\n                </td>\\n                <td>\\n                    <input type=\\\"number\\\" min=\\\"1\\\" class=\\\"form-control\\\" placeholder=\\\"Unidades disponibles.\\\"\\n                        [(ngModel)]=\\\"recurso.cantidad\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                        (ngModelChange)=\\\"validateInputRecursos(recurso)\\\">\\n\\n                </td>\\n                <td>\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Eliminar Recurso\\\"\\n                        (click)=\\\"eliminarElemento(i,'recursoValidacion')\\\">\\n                </td>\\n                <!-- <td>\\n                         <select name=\\\"miselect\\\" [(ngModel)]=\\\"numSeleccionado\\\">\\n                        <option [value]=\\\"0\\\" *ngFor=\\\"let num of numeroRecursos\\\">{{num}}</option>\\n                    </select> \\n                        <input type=\\\"checkbox\\\" [(ngModel)]=\\\"recurso.validado\\\" /><br>\\n\\n                    </td> -->\\n\\n            </tr>\\n            <tr>\\n                <td>\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Registrar selección\\\"\\n                        (click)=\\\"actualizarProyecto()\\\">\\n                </td>\\n                <td></td>\\n                <td></td>\\n                <td></td>\\n\\n            </tr>\\n        </table>\\n\\n    </div>\\n\\n    <div *ngIf=\\\"formularioRecursos && nuevosRecursos\\\">\\n        <br>\\n        <h6>A continuación propón una lista de recursos a añadir a los validados.</h6>\\n        <table>\\n            <tr *ngFor=\\\"let recurso of recursosProyectoActual; let i = index\\\">\\n                <td>\\n                    <input class=\\\"form-control\\\" placeholder=\\\"Nombre del Recurso.\\\" [(ngModel)]=\\\"recurso.nombre\\\"\\n                        [ngModelOptions]=\\\"{standalone: true}\\\">\\n                </td>\\n                <td>\\n                    <input class=\\\"form-control\\\" placeholder=\\\"Descripción del Recurso.\\\" [(ngModel)]=\\\"recurso.descripcion\\\"\\n                        [ngModelOptions]=\\\"{standalone: true}\\\">\\n\\n                </td>\\n                <td>\\n                    <input type=\\\"number\\\" min=\\\"1\\\" class=\\\"form-control\\\" placeholder=\\\"Unidades disponibles.\\\"\\n                        [(ngModel)]=\\\"recurso.cantidad\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n\\n                </td>\\n\\n            </tr>\\n            <tr>\\n                <td>\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Añadir otro recurso\\\"\\n                        (click)=\\\"addRecurso()\\\">\\n\\n                </td>\\n                <td>\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Guardar\\\"\\n                        (click)=\\\"actualizarProyecto()\\\">\\n\\n                </td>\\n            </tr>\\n        </table>\\n\\n        <br>\\n    </div>\\n\\n    <!-- Pantalla principal alumnos y proyectos en simulacion -->\\n    <!-- <div class=\\\"mx-auto\\\" *ngIf=\\\"ventanaSimulacion && alumnosConProyectosEnSimulacion.length==0\\\">\\n        <br>\\n        <h6>\\n            No hay ningún proyecto en simulación, puede haber ocurrido un error en la carga de la página, recarga de nuevo o vuelve más tarde.\\n        </h6>\\n    </div> -->\\n    <div class=\\\"mx-auto\\\" *ngIf=\\\"ventanaSimulacion && alumnosConProyectosEnSimulacion.lentgh!=0\\\">\\n        <br>\\n        <h6>\\n            A continuación se muestra una lista de proyectos en estado de simulación, haz clic en ver detalle para más\\n            infomación.\\n        </h6>\\n        <br>\\n        <table class=\\\"table\\\">\\n            <thead class=\\\"thead-dark\\\">\\n                <tr>\\n                    <td>\\n                        Nombre del alumno.\\n                    </td>\\n                    <td>\\n                        Email del alumno.\\n                    </td>\\n                    <td>\\n                        Nombre del proyecto.\\n                    </td>\\n                    <td>\\n                        Días empleados en el proyecto.\\n                    </td>\\n                    <td>\\n                        Tareas completadas.\\n                    </td>\\n                    <td>\\n                        Estado.\\n                    </td>\\n                    <td>\\n                        Acción.\\n                    </td>\\n                </tr>\\n            </thead>\\n\\n            <tr *ngFor=\\\"let user of alumnosConProyectosEnSimulacion\\\">\\n                <td>\\n                    {{user.alumno.data.nombre}}\\n                </td>\\n                <td>\\n                    {{user.alumno.data.email}}\\n                </td>\\n                <td>\\n                    {{user.estadoSimulacion.nombre}}\\n                </td>\\n                <td>\\n                    {{user.estadoSimulacion.diasTotalesProyecto}}\\n                </td>\\n                <td>\\n                    {{calculaAcabadas(user.alumno.id)}}\\n                </td>\\n                <td>\\n                    {{user.estadoSimulacion.estado}}\\n                </td>\\n                <td>\\n                    <input *ngIf=\\\"user.estadoSimulacion.estado=='simulando'\\\" class=\\\"btn btn-outline-secondary\\\"\\n                        type=\\\"button\\\" value=\\\"Ver detalle\\\"\\n                        (click)=\\\"verDetalleSimulacion=true;ventanaSimulacion=false;detalleSimulacionActual=user\\\">\\n                    <input *ngIf=\\\"user.estadoSimulacion.estado=='finalizado'\\\" class=\\\"btn btn-outline-secondary\\\"\\n                        type=\\\"button\\\" value=\\\"Ver resultados\\\"\\n                        (click)=\\\"ventanaSimulacion=false;tablaFin(user.alumno.id,user.alumno.data.nombre)\\\">\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n    <div *ngIf=\\\"verDetalleSimulacion\\\">\\n        <h6>Este es el estado de las tareas del proyecto del alumno.\\n        </h6>\\n        <table class=\\\"table\\\">\\n            <thead class=\\\"thead-dark\\\">\\n                <tr>\\n                    <td>\\n                        NOMBRE DE TAREA:\\n                    </td>\\n                    <td>\\n                        ESTADO:\\n                    </td>\\n                    <td>\\n                        DIAS EMPLEADOS*:\\n                    </td>\\n\\n                </tr>\\n            </thead>\\n            <tr *ngFor=\\\"let tarea of detalleSimulacionActual.estadoSimulacion.tareas\\\">\\n                <td>{{tarea.nombre}}</td>\\n                <td>{{tarea.estado}}</td>\\n                <td>{{tarea.diasEmpleados}}</td>\\n            </tr>\\n\\n        </table>\\n        <br>\\n        <h6>Dias totales de ejecución del plan:</h6>\\n        <h6> {{detalleSimulacionActual.estadoSimulacion.diasTotalesProyecto}}</h6>\\n        <br>\\n        <h6>\\n            *El número de días empleados se refiere a la cantidad de días que la tarea lleva en proceso o a la cantidad\\n            de días que ha consumido para compeltarse en caso de que ya este finalizada.\\n        </h6>\\n        <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Atras\\\"\\n            (click)=\\\"verDetalleSimulacion=false;ventanaSimulacion=true\\\">\\n\\n\\n    </div>\\n\\n    <div *ngIf=\\\"tablaFinal\\\"> <br>\\n\\n        <h6>Estos son los resultados del proyecto del alumno seleccionado.</h6>\\n\\n\\n        <table class=\\\"table\\\">\\n            <tr>\\n                <td>\\n                    DIA OCURRENCIA\\n                </td>\\n                <td>\\n                    ACCIÓN\\n                </td>\\n                <td>\\n                    RECURSO IMPLICADO\\n                </td>\\n                <td>\\n                    TAREA IMPLICADA\\n                </td>\\n\\n            </tr>\\n            <tr *ngFor=\\\"let evento of eventos; let i = index\\\">\\n                <td>{{evento.dia}}</td>\\n                <td>{{evento.accion}}</td>\\n                <td>{{evento.recursoImplicado}}</td>\\n                <td>{{evento.tareaImplicacada}}</td>\\n\\n            </tr>\\n\\n        </table>\\n        <table>\\n            <td>\\n                <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Atras\\\"\\n                (click)=\\\"verDetalleSimulacion=false;ventanaSimulacion=true;tablaFinal=false\\\">\\n    \\n            </td>\\n        </table>\\n\\n    </div>\\n\\n    <!-- Pantalla principal proyectos finalizados-->\\n    <div *ngIf=\\\"previaVistaResultados\\\">\\n        <br>\\n\\n        <h6>Estos son las simulaciones que actualmente están entregadas para evaluar, para ver el detalle de cada una\\n            puedes hacer clic en Ver detalle.</h6>\\n        <table class=\\\"table\\\">\\n            <thead class=\\\"thead-dark\\\">\\n                <tr>\\n\\n                    <td>\\n                        Nombre Grupo\\n                    </td>\\n                    <td>\\n                        Componentes\\n                    </td>\\n                    <td>\\n                        E-mail\\n                    </td>\\n                    <td>\\n                        Acción\\n                    </td>\\n                </tr>\\n            </thead>\\n            <tr *ngFor=\\\"let proyecto of this.proyectosFinalizados; let i = index\\\">\\n                <td>\\n                    {{proyecto.usuario.nombre}}\\n                </td>\\n                <td>\\n                    {{proyecto.usuario.componentes}}\\n                </td>\\n                <td>\\n                    {{proyecto.usuario.email}}\\n                </td>\\n                <td>\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Ver detalle\\\"\\n                        (click)=\\\"verDetalleResultado=true;previaVistaResultados=false;detalleProyectoActual=proyecto;\\n                        nombreAlumnoResultados=proyecto.usuario.nombre\\\">\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n\\n    <!-- Detalle resultados -->\\n    <div *ngIf=\\\"verDetalleResultado\\\">\\n        <br>\\n        <h6>Estos son los resultados del alumno en el proyecto actual.\\n        <br>\\n        </h6>\\n        <table class=\\\"table\\\">\\n            <thead class=\\\"thead-dark\\\">\\n                <tr>\\n                    <td>\\n                        DIA OCURRENCIA:\\n                    </td>\\n                    <td>\\n                        EVENTO:\\n                    </td>\\n                    <td>\\n                        RECURSO IMPLICADO:\\n                    </td>\\n                    <td>\\n                        TAREA IMPLICADA:\\n                    </td>\\n\\n                </tr>\\n            </thead>\\n            <tr *ngFor=\\\"let evento of detalleProyectoActual.eventos\\\">\\n                <td>{{evento.dia}}</td>\\n                <td>{{evento.accion}}</td>\\n                <td>{{evento.recursoImplicado}}</td>\\n                <td>{{evento.tareaImplicacada}}</td>\\n\\n            </tr>\\n\\n        </table>\\n        <table>\\n            <tr>\\n                <td>         \\n                    <input class=\\\"btn btn-outline-secondary\\\" (click)=\\\"exportTableToCSV()\\\"\\n                        value=\\\"Descargar csv\\\" type=\\\"button\\\"> \\n                </td>\\n                <td>\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Atras\\\"\\n                    (click)=\\\"verDetalleResultado=false;previaVistaResultados=true\\\">\\n        \\n                </td>\\n            </tr>\\n        </table>\\n       \\n\\n    </div>\"","export default \"<div class=\\\"loading\\\" *ngIf=\\\"cargando\\\">\\n    <p>pepe</p>\\n</div>\\n<div class=\\\"container\\\">\\n    <!-- Barra navegacion alumno -->\\n    <nav class=\\\"navbar navbar-expand-lg navbar-light bg-light cursor\\\">\\n\\n        <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarTogglerDemo02\\\"\\n            aria-controls=\\\"navbarTogglerDemo02\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\"\\n            (click)=\\\"toggleCollapsed()\\\">\\n            <span class=\\\"navbar-toggler-icon\\\"></span>\\n        </button>\\n\\n        <div class=\\\"collapse navbar-collapse\\\" [ngClass]=\\\"{'collapse': collapsed, 'navbar-collapse': true}\\\">\\n            <ul class=\\\"navbar-nav mr-auto mt-2 mt-lg-0\\\">\\n                <li class=\\\"nav-item\\\">\\n                    <!-- <a class=\\\"nav-link\\\" href=\\\"#\\\">Home <span class=\\\"sr-only\\\">(current)</span></a> -->\\n                    <div class=\\\"nav-link\\\" (click)=\\\"nuevoProyecto();collapsed=true\\\">Crear un proyecto</div>\\n                </li>\\n\\n            </ul>\\n\\n            <div class=\\\"mx-auto\\\">\\n                <a class=\\\"navbar-brand\\\">Panel del Alumno</a>\\n            </div>\\n            <div>\\n                <ul class=\\\"form-inline my-2 my-lg-0\\\">\\n                    <li class=\\\"nav-item\\\">\\n                        <div class=\\\"nav-link\\\" (click)=\\\"logOut()\\\">Cerrar Sesión</div>\\n                    </li>\\n                </ul>\\n            </div>\\n        </div>\\n    </nav>\\n\\n\\n    <!-- Formulario creación del proyecto-->\\n    <div *ngIf=\\\"proyecto && !gestionarRecursos && plantillas\\\">\\n        <h2>\\n            Creación de un proyecto.\\n        </h2>\\n        <h4>\\n            Para crear un proyecto cumplimenta el formulario siguiente sin saltarte ningún paso.\\n        </h4>\\n    </div>\\n    <div>\\n        <br>\\n\\n        <form *ngIf=\\\"proyecto && primerpaso  && !gestionarRecursos\\\">\\n\\n\\n            <h6>\\n                Define un nombre y da una descripción a tu proyecto.\\n            </h6>\\n            <br>\\n            <input class=\\\"form-control\\\" placeholder=\\\"Nombre del proyecto.\\\" [(ngModel)]=\\\"proyecto.nombre\\\"\\n                [ngModelOptions]=\\\"{standalone: true}\\\">\\n            <input class=\\\"form-control\\\" placeholder=\\\"Descripcion del proyecto.\\\" [(ngModel)]=\\\"proyecto.descripcion\\\"\\n                [ngModelOptions]=\\\"{standalone: true}\\\">\\n            <br>\\n            <h6>\\n                Elige un tipo de proyecto predefinido.\\n            </h6>\\n\\n            <select [ngModelOptions]=\\\"{standalone: true}\\\" [(ngModel)]=\\\"plantillaSeleccionada\\\">\\n                <option value=\\\"{{i}}\\\" *ngFor=\\\"let plantilla of plantillas; let i = index\\\">{{plantilla.tipo}}</option>\\n            </select>\\n            <br>\\n            <br>\\n            <table>\\n                <tr>\\n                    <td>\\n                        <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Siguiente\\\"\\n                            (click)=\\\"selectPlantilla()\\\">\\n                    </td>\\n                </tr>\\n            </table>\\n\\n        </form>\\n        <form *ngIf=\\\"proyecto && segundopaso\\\">\\n            <!-- <input class=\\\"form-control\\\" placeholder=\\\"Tipo del proyecto.  Ej:Proyecto Software.\\\"\\n                [(ngModel)]=\\\"proyecto.tipo\\\" [ngModelOptions]=\\\"{standalone: true}\\\"> \\n            class=\\\"table\\\"class=\\\"table\\\"-->\\n\\n\\n            <br>\\n            <h5>Recursos</h5>\\n            <h6>A continuación propón una lista de recursos que crees que vas a usar para realizar este proyecto.</h6>\\n            <table class=\\\"table\\\">\\n                <tr>\\n                    <th>Nombre del Recurso</th>\\n                    <th>Descripcion del Recurso</th>\\n                    <th>Unidades disponibles</th>\\n                </tr>\\n                <tr *ngFor=\\\"let recurso of proyecto.recursos; let i = index\\\">\\n                    <td>\\n                        {{recurso.nombre}}\\n                    </td>\\n                    <td>\\n                        {{recurso.descripcion}}\\n                    </td>\\n                    <td>\\n                        <input type=\\\"number\\\" min=\\\"1\\\" class=\\\"form-control\\\" placeholder=\\\"Unidades disponibles.\\\"\\n                            [(ngModel)]=\\\"recurso.cantidad\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                            (ngModelChange)=\\\"validateInputCrear(recurso)\\\">\\n                    </td>\\n\\n                </tr>\\n\\n            </table>\\n\\n            <!-- <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Añadir otro recurso\\\" (click)=\\\"addRecurso()\\\"> -->\\n            <br>\\n\\n            <table>\\n                <tr>\\n                    <td>\\n                        <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Anterior\\\"\\n                            (click)=\\\"primerpaso=true;segundopaso=false\\\">\\n                    </td>\\n                    <td>\\n                        <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Crear\\\"\\n                            (click)=\\\"guardarProyectoInit()\\\">\\n\\n                    </td>\\n                </tr>\\n            </table>\\n\\n        </form>\\n\\n\\n    </div>\\n    <!-- Pagina inicio alumno -->\\n\\n    <!-- No hay Proyecto -->\\n    <div\\n        *ngIf=\\\"!proyecto && !diagramaGant && !simulacionPantalla && !asignarRecursos && !gestionarRecursos && noHayProyectos\\\">\\n        <h6>\\n            Hola {{alumno.usuario.data.nombre}}, no tienes proyectos activos, ¡Crea Uno!.\\n\\n        </h6>\\n        <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Crear Proyecto\\\" (click)=\\\"nuevoProyecto()\\\">\\n\\n    </div>\\n\\n    <!-- Si hay proyecto -->\\n    <div\\n        *ngIf=\\\"!proyecto && !diagramaGant && !simulacionPantalla && !asignarRecursos && !gestionarRecursos && !noHayProyectos\\\">\\n        <h6>\\n            Hola {{alumno.usuario.data.nombre}}, este es tu proyecto abierto:\\n        </h6>\\n\\n    </div>\\n    <div\\n        *ngIf=\\\"!proyecto && !diagramaGant && !simulacionPantalla  && !asignarRecursos && !gestionarRecursos && !noHayProyectos &&!tablaFinal &&!replanificar\\\">\\n        <table class=\\\"table\\\">\\n            <tr>\\n                <td>\\n                    {{alumno.proyectos[0].nombre}}\\n                </td>\\n                <!-- HAY QUE MIRAR EL ESTADO , CREAR METODO QUE LO HAGA -->\\n                <td *ngIf=\\\"hayGant && !diagramaGant\\\">\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Ver estado\\\" (click)=\\\"dibujaGant()\\\">\\n\\n                </td>\\n\\n                <td *ngIf=\\\"hayGant && !diagramaGant && !botonFin\\\">\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Simular Planificación\\\"\\n                        (click)=\\\"simular()\\\">\\n                </td>\\n\\n                <td *ngIf=\\\"botonFin\\\">\\n                    <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Ver Resultados\\\" (click)=\\\"tablaFin()\\\">\\n                </td>\\n\\n\\n\\n                <!-- <td *ngIf=\\\"hayRiesgos\\\">\\n                        <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Añadir Riesgos\\\" (click)=\\\"muestraVentanaRiesgos()\\\">\\n                    </td> -->\\n                <td *ngIf=\\\"this.estado=='creado'\\\">\\n                    Esperando validación del profesor\\n\\n                </td>\\n                <td>\\n\\n                    <input *ngIf=\\\"this.estado=='recursosValidados'\\\" class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\"\\n                        value=\\\"Añadir Tareas\\\" (click)=\\\"muestraVentanaTareas(alumno.usuario)\\\">\\n\\n                </td>\\n\\n                <td>\\n                    <input *ngIf=\\\"botonFin||this.estado=='creado'||this.estado=='recursosValidados'||(hayGant && !diagramaGant && !botonFin\\n                    ||(hayGant && !diagramaGant))\\\" class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\"\\n                        value=\\\"Borrar Datos del Proyecto\\\" (click)=\\\"borrarProyectos()\\\">\\n                </td>\\n\\n\\n            </tr>\\n        </table>\\n\\n        <h6 *ngIf=\\\"botonFin||this.estado=='creado'||this.estado=='recursosValidados'||(hayGant && !diagramaGant && !botonFin\\n        ||(hayGant && !diagramaGant))\\\">*Al hacer click en Borrar Datos del Proyecto se eliminará todo lo relacionado\\n            con este proyecto, tanto lo relacionado con\\n            planificación como lo relacionado simulación si esta hubiera comenzado.</h6>\\n    </div>\\n\\n    <!-- Inserccion tareas y gestion REcursos -->\\n    <div *ngIf=\\\"gestionarRecursos\\\">\\n\\n        <div>\\n            <br>\\n            <h6>\\n                Hola {{alumno.usuario.data.nombre}}, en este formulario deberás añadir las tareas de las que se\\n                compondrá el proyecto:\\n            </h6>\\n        </div>\\n        <br>\\n        <form>\\n\\n            <table class=\\\"table\\\" *ngIf=\\\"mostrarTabla\\\">\\n                <tr>\\n                    <td>\\n\\n                    </td>\\n                    <td>\\n                        TIPO DE TAREA\\n                    </td>\\n                    <td>\\n                        NOMBRE DE TAREA\\n                    </td>\\n                    <td>\\n                        DÍA DE INICIO*\\n                    </td>\\n                    <td>\\n                        DURACIÓN (DÍAS)\\n                    </td>\\n                    <td>\\n                        DEPENDE DE:\\n                    </td>\\n                    <!-- <td>\\n                        TIPO DE DEPENDENCIA:\\n                    </td> -->\\n                </tr>\\n                <tr *ngFor=\\\"let tarea of proyectoTareas.tareas; let i = index\\\">\\n                    <td>Tarea {{ i + 1 }}</td>\\n                    <td>\\n                        <select placeholder=\\\"Tipo de tarea:\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"tarea.tipo\\\"\\n                            [ngModelOptions]=\\\"{standalone: true}\\\">\\n                            <option value=\\\"{{ tarea.nombre }}\\\" *ngFor=\\\"let tarea of tipoTareas; let j = index\\\">\\n                                {{ tarea.nombre }}\\n                            </option>\\n                        </select>\\n                    </td>\\n\\n                    <td>\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Nombre tarea\\\" [(ngModel)]=\\\"tarea.nombre\\\"\\n                            [ngModelOptions]=\\\"{standalone: true}\\\">\\n                    </td>\\n                    <td>\\n                        <input class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" placeholder=\\\"Fecha Inicio.\\\"\\n                            [(ngModel)]=\\\"tarea.inicio\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                            (ngModelChange)=\\\"validateInputTarea(i,tarea.inicio,0)\\\">\\n                    </td>\\n                    <td>\\n                        <input class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" placeholder=\\\"Duración tarea\\\"\\n                            [(ngModel)]=\\\"tarea.duracion\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                            (ngModelChange)=\\\"validateInputTarea(i,tarea.duracion,1)\\\">\\n                    </td>\\n\\n                    <td>\\n                        <select placeholder=\\\"Depende de:\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"tarea.dependencia\\\"\\n                            [ngModelOptions]=\\\"{standalone: true}\\\">\\n                            <option value=\\\"{{ tarea.nombre }}\\\" [hidden]=\\\"j == i\\\"\\n                                *ngFor=\\\"let tarea of proyectoTareas.tareas; let j = index\\\">\\n                                {{ tarea.nombre }}\\n                            </option>\\n                        </select>\\n                    </td>\\n                    <td>\\n                        <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Eliminar\\\"\\n                            (click)=\\\"eliminarElemento(i,'tarea')\\\">\\n                    </td>\\n\\n                    <!-- <td>\\n                        <select placeholder=\\\"Tipo de dependencia:\\\" class=\\\"form-control\\\"\\n                            [(ngModel)]=\\\"tarea.dependenciaTipo\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                            <option *ngFor=\\\"let dependencia of dependenciaTipos; let j = index\\\">\\n                                {{ dependencia }}\\n                            </option>\\n                        </select>\\n                    </td> -->\\n                </tr>\\n            </table>\\n            <br>\\n            <h6 *ngIf=\\\"mostrarTabla\\\">*DIA DE INICIO: se refiere al día en el que podrá dar comienzo la tarea, siempre y\\n                cuando las tareas de las que dependen estén finalizadas.</h6>\\n            <br>\\n            <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Añadir otra tarea\\\" (click)=\\\"addTarea()\\\">\\n            <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Asignar Recursos\\\"\\n                (click)=\\\"asignarRecursosTareas()\\\">\\n\\n        </form>\\n\\n\\n    </div>\\n    <div *ngIf=\\\"asignarRecursos\\\">\\n        <h6>A continuación realice una primera aproximación de los recursos que utilizará cada tarea.</h6>\\n        <br>\\n        <table class=\\\"table\\\">\\n            <tr>\\n                <td>\\n                    NOMBRE DE LA TAREA\\n                </td>\\n                <td>\\n                    DURACIÓN DE LA TAREA\\n                </td>\\n                <td>\\n                    RECURSOS\\n                </td>\\n            </tr>\\n            <tr *ngFor=\\\"let tarea of proyectoTareas.tareas; let i = index\\\">\\n                <td>\\n                    {{tarea.nombre}}\\n                </td>\\n                <td>\\n                    {{tarea.duracion}}\\n                </td>\\n                <td>\\n                    <table>\\n                        <tr>\\n                            <td>NOMBRE DEL RECURSO</td>\\n                            <td>CANTIDAD DISPONIBLE</td>\\n                            <td>CANTIDAD SELECCIONADA</td>\\n                        </tr>\\n\\n                        <!-- <tr *ngFor=\\\"let recurso of proyectoTareas.recursos; let j = index\\\">\\n                            <td>{{recurso.nombre}}</td>\\n                            <td>{{ getCantidadRecurso(recurso, proyectoTareas.tareas, j) }}</td>\\n                            <td><input min=\\\"0\\\" [disabled]=\\\"getCantidadRecurso(recurso, proyectoTareas.tareas, j)==0\\\"\\n                                    type=\\\"number\\\" [(ngModel)]=\\\"tarea.recursos[j].cantidad\\\" class=\\\"form-control\\\"></td>\\n                        </tr> -->\\n                        <tr *ngFor=\\\"let recurso of proyectoTareas.recursos; let j = index\\\">\\n                            <td>{{recurso.nombre}}</td>\\n                            <td>{{recurso.cantidad-tarea.recursos[j].cantidad}}</td>\\n                            <!-- <td><input type=\\\"number\\\" min=\\\"0\\\" max=\\\"{{recurso.cantidad}}\\\"\\n                                    [(ngModel)]=\\\"tarea.recursos[j].cantidad\\\"\\n                                    (ngModelChange)=\\\"validateInput(tarea.recursos[j].cantidad,recurso.cantidad,i,j)\\\"\\n                                    class=\\\"form-control\\\">\\n                            </td>  -->\\n                            <td>\\n                                <select class=\\\"form-control\\\" [(ngModel)]=\\\"tarea.recursos[j].cantidad\\\"\\n                                    [ngModelOptions]=\\\"{standalone: true}\\\">\\n                                    <option [ngValue]=\\\"j\\\"\\n                                        *ngFor=\\\"let num of numRecursosMaximo | slice:0:recurso.cantidad+1; let j = index \\\">\\n                                        {{ j }}\\n                                    </option>\\n                                </select>\\n                            </td>\\n\\n                        </tr>\\n\\n                    </table>\\n                </td>\\n            </tr>\\n        </table>\\n        <table>\\n            <td>\\n                <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Volver\\\"\\n                    (click)=\\\"asignarRecursos=false;gestionarRecursos=true;mostrarTabla=true\\\">\\n            </td>\\n            <td>\\n                <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Crear\\\" (click)=\\\"guardarProyectoTareas()\\\">\\n            </td>\\n        </table>\\n    </div>\\n\\n    <!-- muestra el estado de cada tarea en un diagrama de Gant-->\\n\\n    <div *ngIf=\\\"diagramaGant\\\">\\n        <br>\\n        <br>\\n        <div id=\\\"chart_div\\\"></div>\\n        <br>\\n        <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Volver al Inicio\\\" (click)=\\\"atrasGantt()\\\">\\n    </div>\\n\\n\\n    <!-- Creación de los riesgos por parte del alumno -->\\n    <div *ngIf=\\\"crearRiesgos\\\">\\n        <h5>Riesgos</h5>\\n        <h6>A continuación propón una lista de riesgos que crees que pueden afectar al correcto desarrollo de este\\n            proyecto.</h6>\\n        <table *ngIf=\\\"mostrarTablaRiesgos\\\" class=\\\"table\\\">\\n            <tr *ngFor=\\\"let riesgo of proyectoRiesgos.riesgos; let i = index\\\">\\n                <td>\\n                    <input class=\\\"form-control\\\" placeholder=\\\"Nombre del Riesgo.\\\" [(ngModel)]=\\\"riesgo.nombre\\\"\\n                        [ngModelOptions]=\\\"{standalone: true}\\\">\\n                </td>\\n                <td>\\n                    <input class=\\\"form-control\\\" placeholder=\\\"Descripción del Riesgo.\\\" [(ngModel)]=\\\"riesgo.descripcion\\\"\\n                        [ngModelOptions]=\\\"{standalone: true}\\\">\\n\\n                </td>\\n                <td>\\n                    <input type=\\\"number\\\" min=\\\"1\\\" class=\\\"form-control\\\" placeholder=\\\"Porcentaje aparición\\\"\\n                        [(ngModel)]=\\\"riesgo.porcentajeAparicion\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                </td>\\n\\n\\n            </tr>\\n\\n        </table>\\n\\n        <input class=\\\"btn btn-outline-secondary\\\" type=\\\"button\\\" value=\\\"Añadir otro riesgo\\\" (click)=\\\"addRiesgo()\\\">\\n        <br>\\n\\n        <table>\\n            <tr>\\n                <td>\\n                    <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Guardar Proyecto\\\"\\n                        (click)=\\\"guardarProyectoRiesgos()\\\">\\n\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n\\n\\n    <!-- Pantalla de simulación -->\\n\\n    <div *ngIf=\\\"simulacionPantalla\\\">\\n        <h5>¡Bienvenido a la pantalla de simulación!</h5>\\n        <br>\\n        <h6>Este es el estado de tus tareas, pincha en cualquiera de los botones bajo la tabla para realizar una acción.\\n        </h6>\\n        <table class=\\\"table\\\">\\n            <tr>\\n                <td>\\n                    NOMBRE DE TAREA:\\n                </td>\\n                <td>\\n                    ESTADO:\\n                </td>\\n                <td>\\n                    DIAS ESTIMADOS*:\\n                </td>\\n                <td>\\n                    DIAS EMPLEADOS*:\\n                </td>\\n\\n            </tr>\\n            <tr *ngFor=\\\"let tarea of proyectoSimulacion.tareas; let i = index\\\">\\n                <td>{{tarea.nombre}}</td>\\n                <td>{{tarea.estado}}</td>\\n                <td>{{tarea.duracion}}</td>\\n                <td>{{tarea.diasEmpleados}}</td>\\n            </tr>\\n\\n        </table>\\n\\n        <h6>Dias totales de ejecución del plan:</h6>\\n        <h6>{{proyectoSimulacion.diasTotalesProyecto}}</h6>\\n        <br>\\n        <h6>\\n            *El número de días estimados se refiere a la cantidad de días en los que la tarea finalizará según tu\\n            estimación.\\n        </h6>\\n        <br>\\n        <h6>\\n            *El número de días empleados se refiere a la cantidad de días que la tarea lleva en proceso o a la cantidad\\n            de días que ha consumido para compeltarse en caso de que ya este finalizada.\\n        </h6>\\n        <br>\\n        <table *ngIf=\\\"this.estadosSimulacion.length>1\\\" class=\\\"table\\\">\\n            <tr>\\n                <td>\\n                    NOMBRE:\\n                </td>\\n                <td>\\n                    DESCRIPCIÓN:\\n                </td>\\n                <td>\\n                    CANTIDAD ASIGNADA:\\n                </td>\\n                <td>\\n                    CANTIDAD LIBRE:\\n                </td>\\n\\n\\n            </tr>\\n            <tr *ngFor=\\\"let recurso of proyectoSimulacion.recursos; let i = index\\\">\\n                <td>{{recurso.nombre}}</td>\\n                <td>{{recurso.descripcion}}</td>\\n                <td>{{numeroAsignadoSimulacion(recurso,proyectoSimulacion.tareas)}}</td>\\n                <td>{{recurso.cantidad-numeroAsignadoSimulacion(recurso,proyectoSimulacion.tareas)}}</td>\\n            </tr>\\n        </table>\\n        <br>\\n        <h6 *ngIf=\\\"this.estadosSimulacion.length>1\\\">\\n            *La cantidad de recursos asignada, se refiere al total asignado a las tareas actualmente activas.\\n        </h6>\\n        <br>\\n        <h6 *ngIf=\\\"this.estadosSimulacion.length>1\\\">\\n            *Un número negativo en la cantidad libre indica la necesidad de contratar o añadir más recursos de ese tipo,\\n            ya que en ese momento existe una sobreasignación.\\n        </h6>\\n        <br>\\n        <h6 *ngIf=\\\"this.estadosSimulacion.length>1\\\">\\n            *Al hacer click en Borrar Datos del Proyecto se eliminará todo lo relacionado con este proyecto, tanto lo\\n            relacionado con\\n            planificación como lo relacionado simulación si esta hubiera comenzado.\\n        </h6>\\n        <br>\\n        <table>\\n            <tr>\\n\\n                <td>\\n                    <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Volver\\\"\\n                        (click)=\\\"simulacionPantalla=false\\\">\\n                </td>\\n\\n                <td>\\n                    <input\\n                        [disabled]=\\\"proyectoSimulacion.estado==ESTADOS.FIN\\\"\\n                        type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Replanificar\\\"\\n                        (click)=\\\"modificarPlanificacion()\\\">\\n                        <!-- <input\\n                        [disabled]=\\\"proyectoSimulacion.diasTotalesProyecto==0 || proyectoSimulacion.estado==ESTADOS.FIN\\\"\\n                        type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Replanificar\\\"\\n                        (click)=\\\"modificarPlanificacion()\\\"> -->\\n\\n                </td>\\n                <td>\\n                    <input [disabled]=\\\"proyectoSimulacion.estado==ESTADOS.FIN\\\" type=\\\"submit\\\"\\n                        class=\\\"btn btn-outline-secondary\\\" value=\\\"Avanzar días\\\" (click)=\\\"avanzarSimulacion()\\\">\\n                </td>\\n                <td>\\n                    <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Borrar datos de Simulación\\\"\\n                        (click)=\\\"borrarSimulacion()\\\">\\n                </td>\\n            </tr>\\n        </table>\\n\\n\\n    </div>\\n\\n    <!-- Pantalla de replanificacion de proyectos -->\\n    <div *ngIf=\\\"replanificar\\\">\\n        <br>\\n        <h6>En la siguiente tabla podrás modificar la cantidad de recursos asignados a cada tarea.</h6>\\n        <br>\\n        <table class=\\\"table\\\">\\n            <tr>\\n                <td>\\n                    NOMBRE DE LA TAREA\\n                </td>\\n                <td>\\n                    DURACIÓN DE LA TAREA\\n                </td>\\n                <td>\\n                    RECURSOS\\n                </td>\\n            </tr>\\n            <tr *ngFor=\\\"let tarea of tareasNoFinalizadas; let i = index\\\" [hidden]=\\\"tarea.estado==ESTADOSTAREAS.ESPERA\\\">\\n                <td>\\n                    {{tarea.nombre}}\\n                </td>\\n                <td>\\n                    {{tarea.duracion}}\\n                </td>\\n                <td>\\n                    <table>\\n                        <tr>\\n                            <td>NOMBRE DEL RECURSO</td>\\n                            <td>CANTIDAD TOTAL</td>\\n                            <td>CANTIDAD DISPONIBLE</td>\\n                            <td>CANTIDAD SELECCIONADA</td>\\n                            <td>CANTIDAD INICIAL ESTIMADA</td>\\n\\n                        </tr>\\n\\n                        <!-- MIRAR QUE NO SE LLAME AL getCantidadREcursos() si no esta validado el recurso, da error!! -->\\n                        <tr *ngFor=\\\"let recurso of proyectoSimulacion.recursos; let j = index\\\">\\n                            <td>{{recurso.nombre}}</td>\\n                            <td>\\n                                <input min=\\\"0\\\" type=\\\"number\\\" [(ngModel)]=\\\"recurso.cantidad\\\" class=\\\"form-control\\\">\\n                            </td>\\n                            <td>{{ recurso.cantidad-numeroAsignado(recurso,proyectoSimulacion.tareas) }}</td>\\n                            <!-- <td><input min=\\\"0\\\"\\n                                    [disabled]=\\\"(recurso.cantidad-numeroAsignado(recurso,proyectoSimulacion.tareas))==0\\\"\\n                                    type=\\\"number\\\" [(ngModel)]=\\\"tarea.recursos[j].cantidad\\\" class=\\\"form-control\\\">\\n                            </td> -->\\n                            <!-- <td>\\n                                <input min=\\\"0\\\" max=\\\"{{recurso.cantidad}}\\\" type=\\\"number\\\"\\n                                    [(ngModel)]=\\\"tarea.recursos[j].cantidad\\\" class=\\\"form-control\\\"\\n                                    (ngModelChange)=\\\"validateInputReplanificacion(tarea.recursos[j])\\\">\\n                            </td>  -->\\n                            <td>\\n                                <select class=\\\"form-control\\\" [(ngModel)]=\\\"tarea.recursos[j].cantidad\\\"\\n                                    [ngModelOptions]=\\\"{standalone: true}\\\">\\n                                    <option [ngValue]=\\\"j\\\"\\n                                        *ngFor=\\\"let num of numRecursosMaximo | slice:0:recurso.cantidad+1; let j = index \\\">\\n                                        {{ j }}\\n                                    </option>\\n                                </select>\\n                            </td>\\n                            <td>\\n                                {{tarea.recursos[j].cantidadInicial}}\\n                            </td>\\n\\n                        </tr>\\n                    </table>\\n                </td>\\n            </tr>\\n        </table>\\n        <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Modificar\\\" (click)=\\\"finReplanificacion()\\\">\\n    </div>\\n\\n\\n    <div *ngIf=\\\"tablaFinal\\\">\\n\\n        <table class=\\\"table\\\">\\n            <tr>\\n                <td>\\n                    DIA OCURRENCIA\\n                </td>\\n                <td>\\n                    ACCIÓN\\n                </td>\\n                <td>\\n                    RECURSO IMPLICADO\\n                </td>\\n                <td>\\n                    TAREA IMPLICADA\\n                </td>\\n\\n            </tr>\\n            <tr *ngFor=\\\"let evento of eventos; let i = index\\\">\\n                <td>{{evento.dia}}</td>\\n                <td>{{evento.accion}}</td>\\n                <td>{{evento.recursoImplicado}}</td>\\n                <td>{{evento.tareaImplicacada}}</td>\\n\\n            </tr>\\n\\n        </table>\\n        <div>\\n           \\n                        <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" value=\\\"Volver\\\"\\n                        (click)=\\\"this.tablaFinal=false;\\\">\\n                    \\n                        <button class=\\\"btn btn-outline-secondary\\\" (click)=\\\"exportTableToCSV()\\\">Descargar tabla en\\n                            formato csv</button>\\n                    \\n                        <button class=\\\"btn btn-outline-secondary\\\" (click)=\\\"almacenarResultados()\\\">Enviar Resultados</button>\\n             \\n        </div>\\n\\n    </div>\\n\\n\\n</div>\"","export default \"<router-outlet></router-outlet>\"","export default \"<link href=\\\"//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\\\" rel=\\\"stylesheet\\\" id=\\\"bootstrap-css\\\">\\n<script src=\\\"//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\\\"></script>\\n<script src=\\\"//code.jquery.com/jquery-1.11.1.min.js\\\"></script>\\n<!------ Include the above in your HEAD tag ---------->\\n\\n<div class=\\\"sidenav\\\">\\n   <div class=\\\"login-main-text\\\">\\n      <h6>Herramienta de Simulación de planificación de Proyectos</h6>\\n      <p>TFG Jose Alberto del Val Acebes</p>\\n      <p>Curso 2019/2020</p>\\n\\n   </div>\\n</div>\\n<div class=\\\"main\\\">\\n   <div class=\\\"col-md-6 col-sm-12\\\">\\n      <div class=\\\"login-form\\\">\\n         <form (ngSubmit)=\\\"login(loginUserForm.value)\\\" [formGroup]=\\\"loginUserForm\\\">\\n            <div class=\\\"form-group\\\">\\n               <label>Email</label>\\n               <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Tu email\\\" formControlName=\\\"email\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n               <label>Contraseña</label>\\n               <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Tu contraseña\\\" formControlName=\\\"password\\\">\\n            </div>\\n            <div>\\n               <p class=\\\"loginFail\\\" *ngIf=\\\"loginError\\\">Usuario o contraseña incorrecta.</p>\\n            </div>\\n            <input type=\\\"submit\\\" class=\\\"btn btn-outline-secondary\\\" [disabled]=\\\"!loginUserForm.valid\\\" value=\\\"Acceder\\\">\\n         </form>\\n      </div>\\n   </div>\\n</div>\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export default \".cursor{\\n    cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5wYW5lbC9hZG1pbnBhbmVsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxlQUFlO0FBQ25CIiwiZmlsZSI6InNyYy9hcHAvYWRtaW5wYW5lbC9hZG1pbnBhbmVsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY3Vyc29ye1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FirestoreService } from '../services/firestore/firestore.service';\n\nimport { ReactiveFormsModule, FormsModule, FormControl, Validators, FormGroup, FormBuilder } from '@angular/forms';\n\nimport { AutenticathionService } from '../services/authentication/authentication.service';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-adminpanel',\n  templateUrl: './adminpanel.component.html',\n  styleUrls: ['./adminpanel.component.css']\n})\nexport class AdminpanelComponent implements OnInit {\n\n  public ESTADOS = {\n    CREADO: 'creado',\n    RECURSOS_VALIDADOS: 'recursosValidados',\n    TAREAS_CREADAS: 'tareasCreadas'\n  }\n\n  //Formulario registro usuarios\n  public documentId = null;\n  public newUserForm: FormGroup;\n\n\n\n\n  constructor(\n    private firestoreService: FirestoreService,\n    public form: FormBuilder,\n    private authenticationService: AutenticathionService,\n    private router: Router,\n    private auth: AngularFireAuth\n  ) { }\n\n  profesor;\n\n  //Obtención de alumnos y sus proyectos \n  proyecto;\n  primerpaso = false;\n  segundopaso = false;\n\n  alumno;\n\n  alumnos;\n\n  alumnosProyectos;\n\n\n  public dependenciaTipos = ['Comienzo-Fin', 'Comienzo-Comienzo', 'Fin-Comienzo', 'Fin-Fin'];\n\n  creacionPlantilla=false;\n  previaCreacionPlantilla=false;\n  verDetallePlantilla=false;\n  detallePlantillaActual=null;\n\n  plantillas;\n\n  collapsed=true;\n  toggleCollapsed(): void {\n    this.collapsed = !this.collapsed;\n  }\n  \n\n  \n  \n  async nuevoProyecto() {\n\n    //Consulta muestra plantillas\n\n\n    let query = await this.firestoreService.getPlantillas().subscribe((plantillas) => {\n\n      this.previaCreacionPlantilla=true;\n\n      this.plantillas = [];\n      for (let plantilla of plantillas) {\n\n        this.plantillas.push(plantilla.payload.doc.data());\n\n      }\n\n      console.log('plantillas', this.plantillas);\n\n    });\n\n    //Creacion proyecto en blanco por si se quiere crear plantilla\n\n    this.proyecto = {\n      estado: null,\n      recursos: [],\n      tareas: [],\n      descripcion: null\n    };\n    console.log(this.primerpaso,this.creacionPlantilla);\n\n  }\n\n  mostrarTablaRecursos = false;\n  hayUnRecurso(){\n    if(!this.proyecto.tipo || !this.proyecto.descripcion){\n      return false;\n    }\n    if(this.proyecto.recursos.length<=0){\n      return false;\n    }\n    for(let recurso of this.proyecto.recursos){\n      if (!recurso.nombre || !recurso.descripcion || recurso.degradacion==null){\n        return false;\n      }\n    }\n    return true;\n  }\n\n  hayUnaTarea(){\n    if(this.proyecto.tareas.length<=0){\n      return false;\n    }\n    for(let tarea of this.proyecto.tareas){\n      if (!tarea.nombre || !tarea.descripcion || tarea.pPesimo==null || tarea.pOptimo==null){\n        return false;\n      }\n    }\n    return true;\n  }\n\n  newRecurso() {\n    console.log(\"recursosssss\", this.proyecto.recursos);\n    this.mostrarTablaRecursos = true;\n\n    if (this.proyecto.recursos.length > 0 && (!this.proyecto.recursos[this.proyecto.recursos.length - 1].nombre || !this.proyecto.recursos[this.proyecto.recursos.length - 1].descripcion || this.proyecto.recursos[this.proyecto.recursos.length - 1].degradacion==null)) {\n      this.mostrarTablaRecursos = true;\n      return;\n    }\n    //console.log(\"sdifhaisfhasjfn\");\n    this.proyecto.recursos.push({\n      nombre: null,\n      descripcion: null,\n      degradacion: null\n    })\n  }\n\n  introduccion=false;\n\n  eliminarElemento(index,tipo){\n    //i es el indice en el array de elementos\n    //tipo es una cadena que representa el tipo de elemento a eliminar\n    if(tipo=='recurso'){\n      this.proyecto.recursos.splice(index, 1);\n    }\n    if(tipo=='tarea'){\n      this.proyecto.tareas.splice(index, 1);\n    }\n    if(tipo=='recursoValidacion'){\n      this.recursosProyectoActual.splice(index,1);\n      for(let tarea of this.tareasMoment){\n        tarea.recursosMin.splice(index,1);\n      }\n    }\n  }\n\n  tercerpaso = false;\n  guardarProyecto() {\n\n    if (this.proyecto.recursos.length > 0 && (!this.proyecto.recursos[this.proyecto.recursos.length - 1].nombre || !this.proyecto.recursos[this.proyecto.recursos.length - 1].descripcion) && (!this.proyecto.tareas[this.proyecto.tareas.length - 1].nombre || !this.proyecto.tareas[this.proyecto.tareas.length - 1].descripcion)) return;\n\n    //Guardamos en DB\n    if(confirm(\"¿Desea guardar la plantilla?\")){\n      alert(\"Datos guardados exitosamente\");\n    }else{\n      return;\n    }\n    this.firestoreService.creaPlantilla(this.proyecto);\n    this.mostrarTablaRecursos = false;\n    this.cuartopaso = false;\n    this.creacionPlantilla = false;\n\n    this.proyecto = null;\n\n  }\n\n  mostrarTabla = false;\n  addTarea() {\n\n    this.mostrarTabla = true;\n\n    if (this.proyecto.tareas.length > 0 && (!this.proyecto.tareas[this.proyecto.tareas.length - 1].nombre || !this.proyecto.tareas[this.proyecto.tareas.length - 1].descripcion || !this.proyecto.tareas[this.proyecto.tareas.length - 1].pPesimo || !this.proyecto.tareas[this.proyecto.tareas.length - 1].pOptimo)) {\n      this.mostrarTabla = true;\n      return;\n    }\n\n    this.proyecto.tareas.push({\n      nombre: null,\n      descripcion: null,\n      pOptimo: null,\n      pPesimo: null,\n      recursosMin: null\n    })\n\n  }\n  cuartopaso = false;\n  previaCreacionTareas() {\n    for (let tarea of this.proyecto.tareas) {\n\n      tarea.recursosMin = [];\n\n      for (let recurso of this.proyecto.recursos) {\n\n        tarea.recursosMin.push({\n          nombre: recurso.nombre,\n          cantidad: 0\n        })\n      }\n    }\n    console.log(\"AQUI\", this.proyecto);\n  }\n\n  async ngOnInit() {\n\n    let id = localStorage.getItem('idusuario');\n    localStorage.getItem('proyectos');\n    this.profesor = JSON.parse(localStorage.getItem('usuario'));\n    //Seguridad de acceso\n\n    if (!this.profesor) {\n      this.router.navigate(['/']);\n      return;\n    }\n    if (this.profesor.data.rol == 'Alumno') {\n      this.router.navigate(['/alumno']);\n      return;\n    }\n    //Obtención de todos los alumnos y proyectos\n    localStorage.getItem('alumnos');\n    localStorage.getItem('alumnosProyectos');\n\n    this.getAlumnos();\n\n    this.alumnos =  JSON.parse(localStorage.getItem('alumnos'));\n    \n    //this.alumnosProyectos = await this.getProyectos();\n\n    this.newUserForm = this.form.group({\n      email: ['', Validators.required],\n      password: ['', Validators.required],\n      nombre: ['', Validators.required],\n      componentes: ['', Validators.required],\n      rol: ['', Validators.required]\n\n    });\n\n  }\n\n  logOut() {\n    localStorage.clear();\n    this.router.navigate(['/']);\n  }\n  generaVistaSimulacion(){\n    \n    this.descargaProyectosSimulacion();\n  }\n  // alumno = {\n  //   usuario:undefined,\n  //   proyectos:undefined\n  // };\n\n  //Obtención de alumnos y sus proyectos.\n\n  async getAlumnos() {\n    await this.firestoreService.getUsuarios().subscribe((UsuariosSnapshot) => {\n      this.alumnos = [];\n      UsuariosSnapshot.forEach((alumnoData: any) => {\n        if (alumnoData.payload.doc.data().rol == \"Alumno\") {\n          this.alumno = {\n            usuario: {\n              id: null,\n              data: null\n            }\n          };\n          this.alumno.usuario.id = alumnoData.payload.doc.id;\n          this.alumno.usuario.data = alumnoData.payload.doc.data();\n          this.alumnos.push(this.alumno);\n        }\n\n        localStorage.setItem('alumnos', JSON.stringify(this.alumnos));\n      })\n\n      //console.log(\"sesion\",JSON.parse(localStorage.getItem('alumnos')));\n\n    });\n\n  }\n\n  eliminarAlumno(usuario,index){\n    this.firestoreService.deteteAlumnoAuth(this.usuarios[index].email);\n    this.usuarios.splice(index, 1);\n    this.firestoreService.deleteAlumno(this.idsUsuarios[index]);\n    console.log(this.usuarios,this.idsUsuarios,this.idsUsuarios[index]);\n    this.idsUsuarios.splice(index, 1);\n  }\n\n  // getProyectos() {\n  //   let alumnos = JSON.parse(localStorage.getItem('alumnos'));\n  //   let proyectos = []\n  //   console.log(alumnos);\n\n  //   for (let alumno of alumnos) {\n  //     let query2 =this.firestoreService.getProyectosUsuario(alumno.usuario.id).subscribe((usuario) => {\n  //       //let proyectos = JSON.parse(localStorage.getItem('alumnosProyectos'));\n  //       if (usuario.length > 0) {\n  //         proyectos.push({\n  //           id: alumno.usuario.id,\n  //           data: usuario[0].payload.doc.data()\n  //         });\n  //         //     this.alumno.proyectos=usuario[0].payload.doc.data();\n  //       }\n\n  //       //localStorage.setItem('proyectos', JSON.stringify(usuario[0].payload.doc.data()));\n  //     });\n\n  //   }\n  //   //localStorage.setItem('alumnosProyectos', JSON.stringify(this.alumnosProyectos));\n  //   console.log(\"aqui\", proyectos);\n  //   return proyectos;\n\n  // }\n\n  alumnosconproyectos = [];\n\n  //Genera un array con objetos de alumnos junto a sus\n  global;\n  nuevosRecursos = false;\n  mostrarProyectosValidacionRecursos() {\n\n    let alumnos = JSON.parse(localStorage.getItem('alumnos'));\n    let proyectos = []\n    this.alumnosconproyectos = [];\n\n    console.log(alumnos);\n\n    for (let alumno of alumnos) {\n      let query2 =this.firestoreService.getProyectosUsuario(alumno.usuario.id).subscribe((usuario) => {\n        if (usuario.length == 1) {\n          let proyecto={\n            id: alumno.usuario.id,\n            data: usuario[0].payload.doc.data()\n          }\n\n          let global = {\n            usuario: undefined,\n            proyectos: undefined\n      \n          };\n              if (proyecto.data.estado == \"creado\") {\n                global.usuario = alumno.usuario;\n                global.proyectos = proyecto.data;\n                this.alumnosconproyectos.push({\n                  usuario: alumno.usuario,\n                  proyectos: proyecto.data\n                });\n              }\n            \n           \n        }\n\n        //localStorage.setItem('proyectos', JSON.stringify(usuario[0].payload.doc.data()));\n      });\n\n\n    }\n    \n    console.log(this.alumnos,this.alumnosProyectos);\n    // if(this.alumnosProyectos==undefined || this.alumnos.length<1){\n    //   location.reload();\n    //   this.registrarRecursos=true;\n    // }\n    \n    //console.log(\"conjuntoooaojdaoj\", this.alumnosconproyectos);\n\n  }\n\n  cuentaTareas(tareas) {\n    return tareas.length;\n  }\n  //BORRAR ESTAS VARIABLES\n  tiposRecurso = [\"Físicos\", \"Humanos\", \"Know How\", \"Contactos y Relaciones\", \"Financieros\"];\n  numeroRecursos = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n  numSeleccionado;\n  formularioRecursos = false;\n\n  alumnoMoment;\n  proyectoMoment;\n  descripcionMoment;\n  recursosProyectoActual = [];\n  userId;\n  tareasMoment;\n  previaAsignacionRec(a, p, r, pd, id, t) {\n    console.log(\"ESTOY\");\n    this.registrarRecursos = false;\n    this.formularioRecursos = true;\n    this.alumnoMoment = a;\n    this.proyectoMoment = p;\n    this.recursosProyectoActual = r;\n    this.descripcionMoment = pd;\n    this.tareasMoment = t;\n    this.userId = id;\n    console.log(this.recursosProyectoActual);\n\n  }\n\n  //Variables selección pestañas\n  registrarAlumno = false;\n  registrarRecursos = false;\n\n\n  //Registrar alumno\n\n  rol = \"\";\n  roles = [\"Alumno\", \"Profesor\"];\n\n  public newAlumno(form, documentId = this.documentId) {\n    let data = {\n      nombre: form.nombre,\n      componentes: form.componentes,\n      email: form.email,\n      password: form.password,\n      rol: form.rol\n    };\n\n    console.log(data, \"ALUMNO A REGISTRAR\")\n    this.firestoreService.creaAlumno(data).then(() => {\n      console.log('Documento creado exitósamente!');\n      this.newUserForm.setValue({\n        nombre: '',\n        usuario: '',\n        password: ''\n      });\n    }, (error) => {\n      alert(\"El usuario no se ha podido registrar.\");\n      console.error(error);\n    });\n  }\n\n  finRegistro(){\n    this.registrarAlumno=false;\n    this.previaRegistro=true;\n  }\n\n  email: string = null;\n  password: string = null;\n  mensajeRegistro = 0;\n\n  public registrar(form) {\n    \n\n    if(confirm(\"¿Desea registrar al usuario?\")){\n    }else{\n      return;\n    }\n\n    this.email = form.email;\n    this.password = form.password;\n    this.authenticationService.registerWithEmail(this.email, this.password).then(\n      (data) => {\n        this.mensajeRegistro = 1;\n        this.registrarAlumno=false;\n        this.previaRegistro=true;\n        let al = {\n          nombre: form.nombre,\n          email: form.email,\n          componentes: form.componentes,\n          password: form.password,\n          rol: form.rol\n        };\n    \n        console.log(al, \"ALUMNO A REGISTRAR\")\n        this.firestoreService.creaAlumno(al).then(() => {\n          console.log('Documento creado exitósamente!');\n          this.newUserForm.setValue({\n            nombre: '',\n            componentes: '',\n            email: '',\n            password: '',\n            rol: ''\n          });\n        }, (error) => {\n          console.error(error);\n        });\n      }).catch((error) => {\n        alert(\"Error en el registro, motivo: \"+error.message);\n        console.log(\"ERROR REGISTRO\",error);\n      });\n      \n   \n  }\n\n\n  // validacionRecurso() {\n  //   if (confirm('¿Quieres asignar más recursos?')) {\n  //     this.nuevosRecursos=true;\n  //   } else {\n\n  //     this.actualizarProyecto();\n\n  //   }\n\n  // this.alumnoMoment=a;\n  // this.proyectoMoment=p;\n  // this.recursosProyectoActual=r;\n  //    this.descripcionMoment=pd;\n\n  //}\n\n  actualizarProyecto() {\n\n    let proyecto = {\n      nombre: this.proyectoMoment,\n      descripcion: this.descripcionMoment,\n      estado: this.ESTADOS.RECURSOS_VALIDADOS,\n      recursos: this.recursosProyectoActual,\n      tareas: this.tareasMoment\n\n    };\n\n    if(confirm(\"¿Desea guardar los datos?\")){\n      alert(\"Datos guardados exitosamente\");\n    }else{\n      return;\n    }\n\n    this.firestoreService.actualizarProyecto(this.userId, proyecto);\n    this.formularioRecursos = false;\n    this.nuevosRecursos = false;\n\n  }\n\n\n  addRecurso() {\n    this.recursosProyectoActual.push({\n      nombre: null,\n      descripcion: null,\n    })\n  }\n\n  alumnosConProyectosEnSimulacion = [];\n  ventanaSimulacion = false;\n\n  descargaProyectosSimulacion() {\n    \n    //reseteo array cada vez que recargo.\n    this.alumnosConProyectosEnSimulacion=[];\n    this.getAlumnosSimulando();\n\n    //SOLO SI HAY ALUMNOS CON PROYECTOS SIMULANDO, SINO MOSTRAR UN MENSAJE.\n    this.ventanaSimulacion = true;\n  }\n\n  proyectosFinalizados;\n  previaVistaResultados = false;\n  verDetalleResultado = false;\n  async descargaProyectosFinalizados(){\n    let query = await this.firestoreService.getResultados().subscribe((resultados) => {\n\n      this.previaVistaResultados=true;\n\n      this.proyectosFinalizados = [];\n      for (let resultado of resultados) {\n\n        this.proyectosFinalizados.push(resultado.payload.doc.data());\n\n      }\n\n      console.log('finalizados', this.proyectosFinalizados);\n\n    });\n\n\n  }\n\n  estadosSimulacion;\n  alumnoEstado;\n\n  getAlumnosSimulando() {\n    let alumnos = JSON.parse(localStorage.getItem('alumnos'));\n    console.log('estadosSimulacionAlumnos', this.alumnosConProyectosEnSimulacion);\n\n    this.alumnoEstado = {\n      alumno: null,\n      estadoSimulacion: null\n    };\n\n    //console.log(alumnos);\n\n    for (let alumno of alumnos) {\n      console.log(alumno.usuario.id);\n\n      this.firestoreService.getEstadoActual(alumno.usuario.id).subscribe((estados) => {\n\n        this.estadosSimulacion = [];\n\n        for (let estadoSimulacion of estados) {\n\n          this.estadosSimulacion.push(estadoSimulacion.payload.doc.data());\n\n        }\n\n        console.log('estadosSimulacion', this.estadosSimulacion);\n\n\n        //Si el alumno tiene proyectos en simulacion\n\n        if (this.estadosSimulacion.length > 0) {\n          let numeroDias = -1;\n          let proyectoSimulacion;\n          for (let estado of this.estadosSimulacion) {\n            if (estado.diasTotalesProyecto > numeroDias) {\n              numeroDias = estado.diasTotalesProyecto;\n              proyectoSimulacion = estado;\n            }\n          }\n          this.alumnoEstado.alumno = alumno.usuario;\n          this.alumnoEstado.estadoSimulacion = proyectoSimulacion;\n          this.alumnosConProyectosEnSimulacion.push(this.alumnoEstado);\n          this.alumnoEstado = {\n            alumno: null,\n            estadoSimulacion: null\n          };\n\n        }\n\n      });\n\n    }\n  }\n\n\n  calculaAcabadas(id) {\n    let cont = 0;\n    for (let alumno of this.alumnosConProyectosEnSimulacion) {\n      if (alumno.alumno.id == id) {\n        for (let tarea of alumno.estadoSimulacion.tareas) {\n          if (tarea.estado == \"Finalizada\") cont++;\n        }\n      }\n    }\n    return cont;\n  }\n\n  verDetalleSimulacion = false;\n  detalleSimulacionActual = null;\n\n\n\n\nusuarios;\nidsUsuarios;\npreviaRegistro=false;\n  async getUsuarios() {\n    await this.firestoreService.getUsuarios().subscribe((UsuariosSnapshot) => {\n      this.previaRegistro=true;\n\n      this.usuarios = [];\n      this.idsUsuarios = [];\n\n      UsuariosSnapshot.forEach((alumnoData: any) => {\n        \n          this.alumno.usuario.id = alumnoData.payload.doc.id;\n          this.alumno.usuario.data = alumnoData.payload.doc.data();\n          this.usuarios.push(\n            alumnoData.payload.doc.data()\n            );\n          this.idsUsuarios.push(alumnoData.payload.doc.id);\n        \n  \n      })\n  \n      //console.log(\"sesion\",JSON.parse(localStorage.getItem('alumnos')));\n  \n    });\n  \n  }\n\n\n\n  //TABLAS CON RESULTADOS FINALES\n\n  tablaFinal=false;\n  eventos;\n  nombreAlumnoResultados;\n\n  tablaFin(idusuario,nombre){\n    console.log(idusuario);\n    this.firestoreService.getEvento(idusuario).subscribe((eventos) => {\n\n\n      this.eventos = [];\n      for (let evento of eventos) {\n\n        this.eventos.push(evento.payload.doc.data());\n\n      }\n\n\n      this.eventos.sort(function (a, b) {\n        if (a.dia > b.dia) {\n          return 1;\n        }\n        if (a.dia < b.dia) {\n          return -1;\n        }\n        return 0;\n      });\n      console.log('eventos', this.eventos);\n\n\n    });\n\n    this.nombreAlumnoResultados=nombre;\n    this.tablaFinal=true;\n  }\n\n  downloadCSV(csv) {\n    var csvFile;\n    var downloadLink;\n\n    csvFile = new Blob([csv], {type: \"text/csv\"});\n\n    downloadLink = document.createElement(\"a\");\n\n    downloadLink.download = this.nombreAlumnoResultados + '.csv';\n\n    downloadLink.href = window.URL.createObjectURL(csvFile);\n   \n    downloadLink.style.display = \"none\";\n\n    document.body.appendChild(downloadLink);\n\n    downloadLink.click();\n}\n\n\nexportTableToCSV() {\n  console.log(\"NIMBRE\",this.nombreAlumnoResultados);\n  var csv = [];\n  var rows = document.querySelectorAll(\"table tr\");\n  \n  for (var i = 0; i < rows.length; i++) {\n      var row = [], cols = rows[i].querySelectorAll(\"td, th\");\n\n      for (var j = 0; j < cols.length; j++) {\n        row.push((<HTMLElement>cols[j]).innerText);\n      }\n\n      //PROBAR CON ;\n      csv.push(row.join(\";\"));        \n  }\n\n  // Download CSV file\n  //PONER EN NOMBRE EL NOMBRE DEL ALUMNO.\n\n  this.downloadCSV(csv.join(\"\\n\"));\n}\n\nvalidateInputRecursos(recurso){\n  console.log(recurso);\n  if(recurso.cantidad<0){\n    recurso.cantidad=0;\n  }\n}\n\n\nreload(){\n  location.reload();\n}\n\n\n\n\n\n}\n\n\n\n","export default \".cursor{\\n    cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWx1bW5vcGFuZWwvYWx1bW5vcGFuZWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGVBQWU7QUFDbkIiLCJmaWxlIjoic3JjL2FwcC9hbHVtbm9wYW5lbC9hbHVtbm9wYW5lbC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmN1cnNvcntcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\n\nimport { FirestoreService } from '../services/firestore/firestore.service';\nimport { ReactiveFormsModule, FormsModule, FormControl, Validators, FormGroup, FormBuilder } from '@angular/forms';\n\nimport { AutenticathionService } from '../services/authentication/authentication.service';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { Router } from '@angular/router';\n\nimport { GoogleChartsModule } from 'angular-google-charts';\n\nimport jsPERT from 'js-pert';\nimport { pertProbability } from 'js-pert';\nimport { DEFAULT_INTERPOLATION_CONFIG } from '@angular/compiler';\n//import { of } from 'rxjs';\n//import { randomBytes } from 'crypto';\n\n\n\n\n\n@Component({\n  selector: 'app-alumnopanel',\n  templateUrl: './alumnopanel.component.html',\n  styleUrls: ['./alumnopanel.component.css']\n})\nexport class AlumnopanelComponent implements OnInit {\n  public ESTADOS = {\n    CREADO: 'creado',\n    RECURSOS_VALIDADOS: 'recursosValidados',\n    TAREAS_CREADAS: 'tareasCreadas',\n    RIESGOS_CREADOS: 'riesgosCreados',\n    SIMULACION: 'simulando',\n    FIN: 'finalizado'\n  }\n\n  public ESTADOSTAREAS = {\n    ESPERA: 'En espera',\n    COMENZADA: 'En proceso',\n    FINALIZADA: 'Finalizada',\n    ERROR: 'ERROR, HAY QUE REPROGRAMAR',\n    COMENZADA0: 'En espera de comienzo'\n  }\n\n  public dependenciaTipos = ['Comienzo-Fin', 'Comienzo-Comienzo', 'Fin-Comienzo', 'Fin-Fin'];\n\n  proyecto;\n\n  constructor(private firestoreService: FirestoreService,\n    private router: Router,\n    private gant: GoogleChartsModule\n\n  ) { }\n\n  alumno = {\n    usuario: undefined,\n    proyectos: undefined\n  };\n\n  cantidadVersiones;\n  collapsed=true;\n  \n  toggleCollapsed(): void {\n    this.collapsed = !this.collapsed;\n  }\n\n\n  ngOnInit() {\n    //Relleno array numerico\n    for(let i = 0;i <= 100; i++){\n      this.numRecursosMaximo[i]=i;\n    }\n    let id = localStorage.getItem('idusuario');\n    localStorage.getItem('proyectos');\n    this.alumno.usuario = JSON.parse(localStorage.getItem('usuario'));\n    if (!this.alumno.usuario) {\n      this.router.navigate(['/']);\n      return;\n    }\n    //console.log(\"sesion\", this.alumno.usuario.data.rol);\n    if (this.alumno.usuario.data.rol == 'Profesor') {\n      this.router.navigate(['/admin']);\n      return;\n    }\n\n    this.firestoreService.getProyectosUsuario(id).subscribe((usuario) => {\n\n      //console.log('getProyectos', usuario);\n\n      let proyectos = [];\n      for (let proyecto of usuario) {\n\n\n        proyectos.push(proyecto.payload.doc.data());\n\n      }\n      this.cantidadVersiones = proyectos.length - 1;\n\n      localStorage.setItem('proyectos', JSON.stringify(proyectos));\n\n\n      //Esto estaba fuera, asi se arregla para no tener que recargar:\n      this.alumno.proyectos = JSON.parse(localStorage.getItem('proyectos'));\n\n      if (this.alumno.proyectos.length>0) {\n        this.compruebaEstadoProyecto();\n        //console.log(this.alumno);\n      }\n      else{\n\n        this.noHayProyectos=true;\n      }\n      //console.log(\"ELSE\",this.alumno.proyectos.length,this.noHayProyectos,this.estado);\n\n     \n    });\n\n\n    //this.router.navigate(['/alumno']);\n\n  }\n\n  //Select num recursos tareas\n  numRecursosMaximo=[];\n  //Mira si no hay proyectos creados por ese alumno\n  noHayProyectos=false;\n\n  logOut() {\n    localStorage.clear();\n    this.router.navigate(['/']);\n  }\n\n  //Averigua en que estado está el proyecto\n  // CREADO: 'creado',\n  // RECURSOS_VALIDADOS: 'recursosValidados',\n\n  tareasGant1 = [];\n  estado = null;\n  hayRiesgos = false;\n  proyectoSimulacion=null;\n  proyectoComprobacionFinal;\n  proyectoFin;\n  botonFin;\n  compruebaEstadoProyecto() {\n    let lestado = -1;\n    //console.log(\"COMPRUEBA ESTADO\",proyecto);\n    for (let proyecto of this.alumno.proyectos) {\n      //console.log(\"ESTADOndel proyecto\",proyecto.estado)\n      if (proyecto.estado == \"tareasCreadas\") {\n        if (lestado < 2) {\n          lestado = 2;\n          this.estado = \"tareasCreadas\";\n          for (let tarea of proyecto.tareas) {\n            //console.log(\"tarea\",tarea);\n            this.tareasGant1.push(tarea);\n          }\n          this.hayGant = true;\n          this.hayRiesgos = true;\n          this.proyectoPreRiesgos = proyecto;\n          this.proyectoComprobacionFinal = proyecto;\n          //this.proyectoSimulacion = this.creaProyectoSimulacion(proyecto);\n          this.creaProyectoSimulacion(proyecto);\n          //console.log(\"HOLA\", this.proyectoSimulacion);\n        }\n\n      }\n      else if (proyecto.estado == \"recursosValidados\") {\n        if (lestado < 1) {\n          lestado = 1;\n          this.estado = \"recursosValidados\";\n          this.proyectoTareas = proyecto;\n          //console.log(\"poyectotareas\",proyecto);\n        }\n      }\n\n      else if (proyecto.estado == \"creado\"){\n        //console.log(\"ESTOY EN CREADO\");\n        if(lestado < 0 ) {\n          lestado = 0;\n          this.estado = \"creado\";\n        }\n      }\n\n      else if(proyecto.estado == this.ESTADOS.FIN){\n        if (lestado < 3) {\n          lestado=3;\n          this.estado = this.ESTADOS.FIN;\n          this.proyectoFin = proyecto;\n          this.botonFin = true;\n        }\n      }\n      //elseIf para el resto de estados y true lo que ello conlleva\n    }\n    //console.log(\"lestado\",this.proyectoTareas.tareas);\n\n\n    //console.log(\"tareasGant1\", this.tareasGant1,this.estado);\n\n  }\n  prueba() {\n    //console.log(this.proyectoTareas);\n  }\n\n\n\n  //fin = false;\n  primerpaso = true;\n  segundopaso = false;\n\n  plantillas;\n  plantillaSeleccionada;\n\n  selectPlantilla() {\n    this.primerpaso = false;\n    this.segundopaso = true;\n    let nombre = this.proyecto.nombre;\n    let desc = this.proyecto.descripcion;\n    this.proyecto = this.plantillas[this.plantillaSeleccionada];\n    this.proyecto.nombre = nombre;\n    this.proyecto.descripcion = desc;\n  }\n\n  nuevoProyecto() {\n\n    if (this.alumno.proyectos.length>0) {\n      alert(\"Ya tienes un proyecto en simulacion, no puedes crear más.\");\n      return;\n    }\n\n    this.proyecto = {\n      nombre: null,\n      descripcion: null,\n      estado: 'creado',\n      recursos: [],\n      tareas: []\n    };\n\n    this.firestoreService.getPlantillas().subscribe((plantillas) => {\n\n\n      this.plantillas = [];\n      for (let plantilla of plantillas) {\n\n        this.plantillas.push(plantilla.payload.doc.data());\n\n      }\n\n      //console.log('plantillas', this.plantillas);\n\n    });\n\n  }\n\n\n  eliminarElemento(index,tipo){\n    //i es el indice en el array de elementos\n    //tipo es una cadena que representa el tipo de elemento a eliminar\n    if(tipo=='recurso'){\n      this.proyectoTareas.recursos.splice(index, 1);\n    }\n    if(tipo=='tarea'){\n      this.proyectoTareas.tareas.splice(index, 1);\n    }\n  }\n  mostrarTabla = false;\n  addTarea() {\n    this.mostrarTabla = true;\n    if (this.proyectoTareas.tareas.length > 0 && (!this.proyectoTareas.tareas[this.proyectoTareas.tareas.length - 1].nombre || !this.proyectoTareas.tareas[this.proyectoTareas.tareas.length - 1].duracion || !this.proyectoTareas.tareas[this.proyectoTareas.tareas.length - 1].tipo)) {\n      this.mostrarTabla = true;\n      return;\n    }\n\n\n    this.proyectoTareas.tareas.push({\n      nombre: null,\n      duracion: null,\n      dependencia: null,\n      tipo: null,\n      porcentaje: 0,\n      pOptimo: null,\n      pPesimo: null,\n      inicio: 0,\n      recursosMin: []\n    })\n    //console.log(this.proyectoTareas);\n\n  }\n  mostrarTablaRecursos = false;\n  addRecurso() {\n    //console.log(\"recursosssss\", this.proyecto.recursos);\n    if (this.proyecto.recursos.length > 0 && (!this.proyecto.recursos[this.proyecto.recursos.length - 1].nombre || !this.proyecto.recursos[this.proyecto.recursos.length - 1].descripcion)) {\n      this.mostrarTablaRecursos = true;\n      return;\n    }\n    //console.log(\"sdifhaisfhasjfn\");\n    this.proyecto.recursos.push({\n      nombre: null,\n      descripcion: null,\n      cantidad: null,\n      cantidadInicial: null,\n      degradacion: null\n    })\n  }\n\n  guardarProyecto() {\n\n    if (this.proyecto.recursos.length > 0 && (!this.proyecto.nombre || !this.proyecto.descripcion || !this.proyecto.recursos[this.proyecto.recursos.length - 1].nombre || !this.proyecto.recursos[this.proyecto.recursos.length - 1].descripcion)) return;\n\n    //Guardamos en DB\n    if(confirm(\"¿Desea guardar el proyecto?\")){\n      alert(\"Datos guardados exitosamente\");\n    }else{\n      return;\n    }\n\n    this.firestoreService.creaProyecto(this.proyecto);\n    this.mostrarTablaRecursos = false;\n    this.proyecto = false;\n    this.segundopaso = false;\n\n    this.proyecto = null;\n\n  }\n  async guardarProyectoInit() {\n    this.proyecto.estado = this.ESTADOS.CREADO;\n\n    if(confirm(\"¿Desea guardar el proyecto?\")){\n      alert(\"Datos guardados exitosamente\");\n    }else{\n      return;\n    }\n\n    await this.firestoreService.creaProyecto(this.proyecto);\n    this.mostrarTablaRecursos = false;\n    this.proyecto = false;\n    this.segundopaso = false;\n    this.proyecto = null;\n    location.reload();\n  }\n\n  hayGant = false;\n  async guardarProyectoTareas() {\n    this.gestionarRecursos = false;\n    for(let tarea of this.proyectoTareas.tareas){\n      for(let recurso of tarea.recursos){\n        recurso.cantidadInicial=recurso.cantidad;\n      }\n    }\n\n    //console.log(\"PROYECTO TAREAS\", this.proyectoTareas);\n\n    if (this.proyectoTareas.tareas.length == 0) return;\n\n    // //Guardamos en DB\n    //console.log(\"tareasmaximas\", this.proyectoTareas);\n\n    if(confirm(\"¿Desea guardar el proyecto?\")){\n      alert(\"Datos guardados exitosamente\");\n    }else{\n      return;\n    }\n\n    let query = await this.firestoreService.creaProyecto(this.proyectoTareas);\n\n\n    //this.gestionarRecursos = false;\n    this.proyectoTareas = null;\n\n    this.router.navigate(['/alumno']);\n\n    location.reload(); \n\n\n\n\n  }\n\n\n  //VENTANA CREAR TAREAS Y ASIGNAR RECURSOS\n  gestionarRecursos;\n  proyectoTareas;\n  tipoTareas;\n  muestraVentanaTareas(usuario) {\n    let proyecto = this.proyectoTareas;\n    this.tipoTareas = this.proyectoTareas.tareas;\n    //console.log(\"PROYECTO EN estado\",proyecto);\n    this.proyecto = true;\n    this.gestionarRecursos = true;\n    this.proyectoTareas = {\n      nombre: proyecto.nombre,\n      descripcion: proyecto.descripcion,\n      estado: this.ESTADOS.TAREAS_CREADAS,\n      recursos: proyecto.recursos,\n      tareas: []\n    };\n    // this.registrarRecursos = false;\n    // this.formularioRecursos = true;\n    // this.alumnoMoment = a;\n    // this.proyectoMoment = p;\n    // this.recursosProyectoActual = r;\n    // this.descripcionMoment = pd;\n    // this.userId=id;\n\n  }\n\n  getCantidadRecurso(recurso, tareas, j) {\n\n    //console.log(recurso,tareas,j);\n\n    let c = recurso.cantidad;\n\n    for (let tarea of tareas) {\n\n      //console.log(\"ESTO\", c, tarea);\n\n      c -= tarea.recursos[j].cantidad;\n\n    }\n\n    return c;\n\n  }\n\n  asignarRecursos = false;\n  asignarRecursosTareas() {\n    if (this.proyectoTareas.tareas.length == 0) {\n      alert(\"Es necesario añadir antes alguna tarea\");\n      return;\n    }\n    this.mostrarTabla = true;\n\n    if (this.proyectoTareas.tareas.length > 0 && (!this.proyectoTareas.tareas[this.proyectoTareas.tareas.length - 1].nombre || !this.proyectoTareas.tareas[this.proyectoTareas.tareas.length - 1].duracion || !this.proyectoTareas.tareas[this.proyectoTareas.tareas.length - 1].tipo)) {\n      this.mostrarTabla = true;\n      return;\n    }\n\n    for (let tarea of this.tipoTareas) {\n      for (let tar of this.proyectoTareas.tareas) {\n        if (tarea.nombre == tar.tipo) {\n          tar.pOptimo = tarea.pOptimo;\n          tar.pPesimo = tarea.pPesimo;\n          tar.recursosMin = tarea.recursosMin;\n\n        }\n\n      }\n    }\n    //console.log(this.proyectoTareas.tareas);\n    this.asignarRecursos = true;\n    this.gestionarRecursos = false;\n    this.proyecto = false;\n\n    for (let tarea of this.proyectoTareas.tareas) {\n\n      tarea.recursos = [];\n\n      for (let recurso of this.proyectoTareas.recursos) {\n\n        //if (!recurso.validado) continue;\n\n        tarea.recursos.push({\n          nombre: recurso.nombre,\n          descripcion: recurso.descripcion,\n          cantidad: 0\n        })\n\n      }\n\n    }\n    //console.log(\"RECURSOS A CERO\", this.proyectoTareas);\n\n  }\n  //DIAGRAMA DE GANT\n  diagramaGant = false;\n\n\n  nombresTareasDependencia = [];\n\n  atrasGantt(): void {\n    window.location.reload();\n  }\n  dibujaGant() {\n    this.diagramaGant = true;\n\n    google.charts.load('current', { 'packages': ['gantt'] });\n    google.charts.setOnLoadCallback(() => {\n\n      var data = new google.visualization.DataTable();\n      data.addColumn('string', 'ID Tarea');\n      data.addColumn('string', 'Tarea');\n      data.addColumn('date', 'Inicio');\n      data.addColumn('date', 'Fin');\n      data.addColumn('number', 'Duracion');\n      data.addColumn('number', 'Porcentaje Completado');\n      data.addColumn('string', 'Dependencias');\n\n      if( this.proyectoSimulacion!=null){\n        this.tareasGant1= this.proyectoSimulacion.tareas;\n      }\n\n      //console.log(\"DIBUJANDO GANT\",this.tareasGant1);\n\n      for (let tarea of this.tareasGant1) {\n        //console.log(\"DIBUJAR\",tarea);\n        // let parts = tarea.inicio.split(\"-\");\n\n        // let ano= parseInt(parts[0]);\n        // let mes= parseInt(parts[1]);\n        // let dia= parseInt(parts[2]);\n        if(tarea.porcentaje>1){\n          tarea.porcentaje=1;\n        }\n        \n        this.nombresTareasDependencia.push(tarea.nombre);\n        //console.log(\"AQUIESTA\",tarea.nombre,tarea.nombre,new Date(ano,mes,dia),null,tarea.duracion,tarea.porcentaje,tarea.dependencia);\n        //console.log(\"AQUI 222\",'2014Spring', 'Spring 2014',new Date(2014, 2, 22), new Date(2014, 5, 20), null, 100, null);\n\n        if (!tarea.dependencia) {\n          //--------------;\n        }\n        let hoy=null;\n        if(tarea.inicio!==0 && !tarea.dependencia){\n           hoy= new Date();\n          let inicio =hoy.getDate() + tarea.inicio;\n  \n          hoy.setDate(inicio);\n          //console.log(hoy);\n        }\n        \n        \n        /*if(tarea.dependencia){\n          let diasPorDependencia=0;\n          for(let tarea2 of this.tareasGant1){\n            if(tarea.dependencia==tarea2.nombre){\n              diasPorDependencia=tarea2.duracion;\n              //console.log(\"HOY\",diasPorDependencia);\n\n            }\n          }\n          let inicioDep=hoy.getDate()+diasPorDependencia-1;\n          \n          console.log(\"HOY\",inicioDep);\n\n          hoy.setDate(inicioDep);\n\n        }*/\n\n\n        data.addRow([tarea.nombre, tarea.nombre, hoy, null, daysToMilliseconds(tarea.duracion), tarea.porcentaje*100, tarea.dependencia]);\n      }\n\n\n      var options = {\n        height: 275\n      };\n\n      var chart = new google.visualization['Gantt'](document.getElementById('chart_div'));\n\n      chart.draw(data, options);\n\n    });\n\n    function daysToMilliseconds(days) {\n      return days * 24 * 60 * 60 * 1000;\n    }\n\n  }\n\n\n  //------------RIESGOS---------------\n\n  proyectoPreRiesgos;\n  proyectoRiesgos;\n  crearRiesgos = false;\n  muestraVentanaRiesgos() {\n    //console.log(\"preriesgos\", this.proyectoPreRiesgos);\n    this.crearRiesgos = true;\n    let proyecto = this.proyectoPreRiesgos;\n    this.proyectoRiesgos = {\n      nombre: proyecto.nombre,\n      descripcion: proyecto.descripcion,\n      estado: this.ESTADOS.RIESGOS_CREADOS,\n      recursos: proyecto.recursos,\n      tareas: proyecto.tareas,\n      riesgos: []\n    };\n    //console.log(\"PROYECTO EN estado\", this.proyectoRiesgos);\n\n  }\n\n\n  mostrarTablaRiesgos = false;\n  addRiesgo() {\n    //console.log(\"riesgos null\",this.proyectoRiesgos.riesgos.length);\n    if (this.proyectoRiesgos.riesgos.length > 0 && (!this.proyectoRiesgos.riesgos[this.proyectoRiesgos.riesgos.length - 1].nombre || !this.proyectoRiesgos.riesgos[this.proyectoRiesgos.riesgos.length - 1].descripcion || !this.proyectoRiesgos.riesgos[this.proyectoRiesgos.riesgos.length - 1].porcentajeAparicion)) {\n      //console.log(\"estoy\");\n      this.mostrarTablaRiesgos = true;\n      return;\n    }\n\n    this.proyectoRiesgos.riesgos.push({\n      nombre: null,\n      descripcion: null,\n      porcentajeAparicion: null,\n\n    })\n    //console.log(\"fuera\", this.proyectoRiesgos);\n\n  }\n  guardarProyectoRiesgos() {\n\n    if (this.proyectoRiesgos.riesgos.length == 0) return;\n\n    //Guardamos en DB\n    //console.log(\"tareasmaximas\", this.proyectoTareas);\n    this.firestoreService.creaProyecto(this.proyectoRiesgos);\n\n    this.crearRiesgos = false;\n    this.mostrarTablaRiesgos = false;\n    this.proyectoRiesgos = null;\n    this.proyectoPreRiesgos = null;\n\n  }\n\n  //------------------------SIMULACION----------------------------\n  tiempoPesimoOptimo(tiempo, porcentaje, opt) {\n\n    //option==true -> tiempo optimo\n    //option==false -> tiempo pésimo\n    //console.log(\"calculador\",tiempo,porcentaje,opt);\n    if (opt) {\n      //console.log(tiempo-tiempo*porcentaje/100);\n      return tiempo - tiempo * porcentaje / 100;\n    }\n    else {\n      return tiempo + tiempo * porcentaje / 100;\n    }\n\n  }\n  simulacionPantalla = false;\n  simular() {\n    this.simulacionPantalla = true;\n\n    //console.log(this.proyectoPreRiesgos, \"simulacion\");\n    let activities = {};\n\n    for (let tarea of this.proyectoPreRiesgos.tareas) {\n      //console.log(\"Tiempopesimo\",tarea.duracion,tarea.pOptimo,this.tiempoPesimoOptimo(tarea.tiempo,tarea.pOptimo,true));\n      if (!tarea.dependencia) {\n        let actividad = {\n          id: tarea.nombre,\n          optimisticTime: this.tiempoPesimoOptimo(tarea.duracion, tarea.pOptimo, true),\n          mostLikelyTime: tarea.duracion,\n          pessimisticTime: this.tiempoPesimoOptimo(tarea.duracion, tarea.pPesimo, false),\n          predecessors: []\n        };\n        activities[actividad.id] = actividad;\n\n      }\n      else {\n        let actividad = {\n          id: tarea.nombre,\n          optimisticTime: this.tiempoPesimoOptimo(tarea.duracion, tarea.pOptimo, true),\n          mostLikelyTime: tarea.duracion,\n          pessimisticTime: this.tiempoPesimoOptimo(tarea.duracion, tarea.pPesimo, false),\n          predecessors: [tarea.dependencia]\n        };\n        activities[actividad.id] = actividad;\n\n      }\n\n    }\n\n\n\n\n\n    //console.log('PERTACTIVITIEs', activities);\n\n    const pert = jsPERT(activities);\n\n    //console.log('PERT', pert);\n\n    const Pz = pertProbability(pert, 90);\n\n    //console.log('P(x<22):', Pz);\n\n    //console.log(\"proyectoSimulacion\", this.proyectoSimulacion)\n\n  }\n\n  estadosSimulacion;\n  creaProyectoSimulacion(proyecto) {\n\n\n\n\n    this.firestoreService.getEstadoActual(localStorage.getItem('idusuario')).subscribe((estados) => {\n\n      this.estadosSimulacion = [];\n\n      for (let estadoSimulacion of estados) {\n\n        this.estadosSimulacion.push(estadoSimulacion.payload.doc.data());\n\n      }\n\n      //console.log('estadosSimulacion', this.estadosSimulacion);\n\n\n      //Si no hay proyecto simulado en BD\n\n      if (!(this.estadosSimulacion.length > 0)) {\n       //console.log(\"No hay\");\n        let p = {\n          descripcion: proyecto.descripcion,\n          estado: this.ESTADOS.SIMULACION,\n          nombre: proyecto.nombre,\n          diasTotalesProyecto: 0,\n          replanificado: 0,\n          recursos: proyecto.recursos,\n          tareas: []\n        }\n        for (let tarea of proyecto.tareas) {\n          tarea = {\n            dependencia: tarea.dependencia,\n            duracion: tarea.duracion,\n            nombre: tarea.nombre,\n            pOptimo: tarea.pOptimo,\n            pPesimo: tarea.pPesimo,\n            porcentaje: tarea.porcentaje,\n            diasEmpleados: 0,\n            inicio: tarea.inicio,\n            estado: this.ESTADOSTAREAS.ESPERA,\n            recursos: tarea.recursos,\n            recursosMin: tarea.recursosMin\n          }\n          p.tareas.push(tarea);\n        }\n        //console.log(\"PROYECTO SIMULACION\", p);\n\n        this.firestoreService.actualizaEstado(localStorage.getItem('idusuario'), p);\n        this.proyectoSimulacion = p;\n        //this.tareasGant1=this.proyectoSimulacion.tareas;\n\n\n      }\n\n\n      //Si le hay\n\n      else {\n        //console.log(\"Si hay\", this.estadosSimulacion);\n        //Obtener el estado que nos interesa, el ultimo\n        let numeroDias = -1;\n        let numeroReplanificado = -1;\n        for (let estado of this.estadosSimulacion) {\n          /*if (estado.replanificado!=0) {\n            if (estado.replanificado > numeroVeces) {\n              numeroVeces = estado.replanificado;\n              this.proyectoSimulacion = estado;\n            }\n          }\n          else {*/\n          if (estado.diasTotalesProyecto > numeroDias) {\n            numeroDias = estado.diasTotalesProyecto;\n            numeroReplanificado = estado.replanificado;\n            this.proyectoSimulacion = estado;\n          }\n          //Mismos días replanificado\n          else if(estado.diasTotalesProyecto==numeroDias){\n            if(estado.replanificado>numeroReplanificado){\n              //console.log(estado,\"REP\")\n              this.proyectoSimulacion = estado;\n              numeroReplanificado = estado.replanificado;\n              numeroDias = estado.diasTotalesProyecto;\n\n            }\n          }\n          //}\n          //console.log(numeroDias,numeroReplanificado,estado,estado.diasTotalesProyecto==numeroDias)\n\n        }\n        //console.log(\"proyectoSimulacion\", this.proyectoSimulacion)\n      }\n\n    });\n\n    //console.log('estadosSimulacionFuera',this.estadosSimulacion);\n\n\n\n  }\n\n  numeroAsignado(recurso, tareas) {\n\n    let asignados = 0;\n    //console.log(tareas);\n    for (let tarea of tareas) {\n        for (let rec of tarea.recursos) {\n          //if(this.estadosSimulacion.length>1){\n            if(tarea.estado==this.ESTADOSTAREAS.COMENZADA){\n              //console.log(\"En proceso\")\n              if (rec.nombre == recurso.nombre) {\n                //console.log(\"RECURSOSSS\",rec.nombre,recurso.nombre,tarea.recursos,rec.cantidad);\n    \n                asignados += rec.cantidad;\n              }\n            }\n          //}\n          //COMENTADO PARA SOLO TENER EN CUENTA LAS COMENZADAS\n          // else{\n          //   if (rec.nombre == recurso.nombre) {\n          //     //console.log(\"RECURSOSSS\",rec.nombre,recurso.nombre,tarea.recursos,rec.cantidad);\n  \n          //     asignados += rec.cantidad;\n          //   }\n          // }\n          \n        }\n      \n    }\n    return asignados;\n  }\n  numeroAsignadoSimulacion(recurso, tareas) {\n\n    let asignados = 0;\n\n    for (let tarea of tareas) {\n        for (let rec of tarea.recursos) {\n          if(this.estadosSimulacion.length>1){\n            if(tarea.estado==this.ESTADOSTAREAS.COMENZADA){\n              if (rec.nombre == recurso.nombre) {\n                //console.log(\"RECURSOSSS\",rec.nombre,recurso.nombre,tarea.recursos,rec.cantidad);\n    \n                asignados += rec.cantidad;\n              }\n            }\n          }\n        }\n      \n    }\n    return asignados;\n  }\n\n\n\n  tareasEnProceso = [];\n  tareasFinalizadas = [];\n  tareasQuePuedenComenzar = [];\n  tareasEnEsperaPorDependencia = [];\n  tareasQuePuedenAcabar = [];\n  hayEvento = false;\n\n  comprobacionMinRecursosAsignados() {\n\n    //.log(\"ME HA LLAMAO LAMOOOOOO\", this.tareasEnProceso)\n\n    for (let tarea of this.tareasEnProceso) {\n\n      for (let i = 0; i < tarea.recursos.length; i++) {\n        //console.log(\"COMPROBACION\", tarea.recursos[i].cantidad, tarea.recursosMin[i].cantidad);\n        if (tarea.recursos[i].cantidad < tarea.recursosMin[i].cantidad) {\n          //console.log(\"COMPROBACION\", tarea.nombre, tarea.recursos[i].nombre, tarea.recursos[i].cantidad, tarea.recursosMin[i].cantidad, tarea.recursosMin[i].cantidad);\n          \n          //Restamos lo que habíamos sumado\n          tarea.diasEmpleados--;\n          this.proyectoSimulacion.diasTotalesProyecto--;\n\n          let evento = {\n            dia: this.proyectoSimulacion.diasTotalesProyecto,\n            accion: 'Error mínimo recursos',\n            tareaImplicacada: tarea.nombre,\n            recursoImplicado: tarea.recursos[i].nombre\n          }\n          this.firestoreService.setEvento(localStorage.getItem('idusuario'), evento);\n\n\n          alert(\"La tarea \" + tarea.nombre + \" no tiene suficientes \" + tarea.recursos[i].nombre + \" para ejecutarse. Replanifica por favor.\");\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n  avanzarSimulacion() {\n    this.hayEvento = false;\n\n    //COmprobación sobreAsignación\n\n    if(this.estadosSimulacion.length>1){\n      for(let recurso of this.proyectoSimulacion.recursos){\n        if((recurso.cantidad-this.numeroAsignadoSimulacion(recurso,this.proyectoSimulacion.tareas))<0){\n          let evento = {\n            dia: this.proyectoSimulacion.diasTotalesProyecto,\n            accion: 'Error sobreasignacion',\n            tareaImplicacada: 'No procede',\n            recursoImplicado: 'No procede'\n          }\n          this.firestoreService.setEvento(localStorage.getItem('idusuario'), evento);\n          alert(\"Hay una sobreasignación de recursos, replanifica por favor\");\n          return;\n        }\n      }\n    }\n    while (!this.hayEvento) {\n      this.proyectoSimulacion.diasTotalesProyecto++;\n      //console.log(\"COMIENzO ITERACION\", this.proyectoSimulacion.tareas);\n      for (let tarea of this.proyectoSimulacion.tareas) {\n        //console.log(\"COMIENzO tarea\", \"ITERACION\", tarea);\n        if (tarea.estado == this.ESTADOSTAREAS.ESPERA) {\n          this.tareasQuePuedenComenzar.push(tarea)\n        }\n        if (tarea.estado == this.ESTADOSTAREAS.COMENZADA) {\n          tarea.diasEmpleados++;\n          tarea.porcentaje=parseFloat((tarea.diasEmpleados/tarea.duracion).toFixed(2));\n          //console.log(\"ESTOY AQUI)\",tarea.porcentaje);\n\n          this.tareasEnProceso.push(tarea);\n        }\n        if (tarea.estado == this.ESTADOSTAREAS.FINALIZADA) this.tareasFinalizadas.push(tarea);\n      }\n\n\n      //Comprobación min recursos\n\n      /* PREVIO: comprobar que todas las tareas tienen su número de recursos necesarios\n      \n      1.CalculoPertComenzadas para ver cual puede finalizar en ese metodo se suma 1 a los dias totales\n        si esa tarea depende de otra, hay que crear el arbol para calcular probabilidad total.\n  \n        2.Elegir la que acaba\n  \n        3.Actualizar Arrays\n  \n        4.Notificar al usuario Fuera del while\n  \n        5.Actualizar BD y realizar consulta de nuevo para coger proyecto actualizado\n      */\n      this.creaTareasEnProceso();\n\n      if (!this.comprobacionMinRecursosAsignados()) {\n        return;\n      }\n\n\n\n      /*for (let i = 0; i < this.tareasQuePuedenComenzar.length; i++) {\n        if (this.tareasQuePuedenComenzar[i].estado==this.ESTADOSTAREAS.COMENZADA) {\n          this.tareasQuePuedenComenzar.splice(i,1);\n        }crE\n      }*/\n\n      this.calculoPertComenzadas();\n\n      //console.log(\"FIN TAREA \", this.tareasQuePuedenComenzar, this.tareasEnProceso);\n\n      this.tareasQuePuedenComenzar = [];\n      this.tareasEnProceso = [];\n      this.tareasFinalizadas = [];\n\n      //if(cont==2)       \n      //break;\n\n\n    }\n    let mayorProb = 0;\n    let index = 0;\n\n    //Probabilidad 2 de que acabe o se lance error\n    let random = this.getRandom();\n\n    this.probabilidades.sort(function (a, b) {\n      return a - b;\n    });\n\n    //console.log(random, this.probabilidades, this.tareasQuePuedenAcabar);\n    for (let i = 0; i < this.probabilidades.length; i++) {\n      if (this.probabilidades[i] > random) {\n        index = i;\n        break;\n      }\n    }\n    let eliminadas = this.tareasQuePuedenAcabar.splice(index, this.probabilidades.length - index);\n\n    for (let i = 0; i < eliminadas.length; i++) {\n      let evento = {\n        dia: this.proyectoSimulacion.diasTotalesProyecto,\n        accion: 'Fin de una tarea',\n        tareaImplicacada: eliminadas[i].nombre,\n        recursoImplicado: 'No procede'\n      }\n      let insert = this.firestoreService.setEvento(localStorage.getItem('idusuario'), evento);\n\n      eliminadas[i].estado = this.ESTADOSTAREAS.FINALIZADA;\n      this.tareasFinalizadas.push(eliminadas[i]);\n    }\n\n    //Comprobación riesgo activado\n    //console.log(\"ENTRE!PREVIO\");\n\n    for (let recurso of this.proyectoSimulacion.recursos) {\n      //console.log(\"ENTRE!ANTES COMPROBACION\", recurso.degradacion / 100, random);\n\n      if ((recurso.degradacion / 100) > random) {\n        //console.log(\"ENTRE!MAYOR\");\n        recurso.cantidad--;\n        for (let tarea of this.proyectoSimulacion.tareas) {\n          //console.log(\"ENTRE!1\", tarea.estado);\n          if (tarea.estado == this.ESTADOSTAREAS.COMENZADA) {\n           // console.log(\"ENTRE!\");\n\n            for (let recursoFallido of tarea.recursos) {\n              if ((recursoFallido.nombre == recurso.nombre)) {\n                recursoFallido.cantidad--;\n                let evento = {\n                  dia: this.proyectoSimulacion.diasTotalesProyecto,\n                  accion: 'Error recurso ya no disponible',\n                  tareaImplicacada: tarea.nombre,\n                  recursoImplicado: recursoFallido.nombre\n                }\n                let insert = this.firestoreService.setEvento(localStorage.getItem('idusuario'), evento);\n      \n                alert(\"¡Ha sucedido algo inesperado! Un \" + recursoFallido.nombre + \" ha dejado de estar disponible, se ha eliminado uno de la tarea \" + tarea.nombre + \" Se recomienda comprobar.\");\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n\n\n    this.tareasQuePuedenAcabar = [];\n    this.probabilidades = [];\n    //console.log(\"TAREAS FINALIZADAS\",this.tareasFinalizadas,this.proyectoComprobacionFinal.tareas.length);\n    if (this.getProyectoEsFinalizado()) {\n      let evento = {\n        dia: this.proyectoSimulacion.diasTotalesProyecto,\n        accion: 'Fin de la simulación, el proyecto acabó',\n        tareaImplicacada: 'No procede',\n        recursoImplicado: 'No procede'\n      }\n      let insert = this.firestoreService.setEvento(localStorage.getItem('idusuario'), evento);\n\n      alert(\"Enhorabuena, el proyecto ha finalizado\");\n      this.proyectoSimulacion.estado = this.ESTADOS.FIN;\n      //this.finalizacionProyecto();\n      this.firestoreService.actualizarProyecto(localStorage.getItem('idusuario'), this.proyectoSimulacion);\n    }\n    else {\n      alert(\"¡Ha acabado una tarea!\");\n    }\n\n\n    //console.log(\"FIN\",this.tareasQuePuedenComenzar, this.tareasEnProceso,this.tareasFinalizadas);\n    //console.log(\"FIN\",this.proyectoSimulacion);\n    this.firestoreService.actualizaEstado(localStorage.getItem('idusuario'), this.proyectoSimulacion);\n    \n\n\n\n  }\n\n  getProyectoEsFinalizado() {\n    for (let tarea of this.proyectoSimulacion.tareas) {\n      if (tarea.estado != this.ESTADOSTAREAS.FINALIZADA) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  creaTareasEnProceso() {\n\n    for (let tarea of this.tareasQuePuedenComenzar) {\n      //console.log(\"DIA DE COMIENZO\",tarea.inicio);\n\n      if (!tarea.dependencia && (this.proyectoSimulacion.diasTotalesProyecto>=tarea.inicio)) {\n        //COMPROBAR SI RECURSOS DISPONIBLES ANTES DE COMENZARLA\n        tarea.diasEmpleados++;\n        tarea.estado = this.ESTADOSTAREAS.COMENZADA;\n        this.tareasEnProceso.push(tarea);\n        //console.log(\"NO DEPENDENCIA\");\n        this.tareasQuePuedenComenzar.splice(this.tareasQuePuedenComenzar.indexOf(tarea), 1);\n\n        //this.tareasQuePuedenComenzar.shift();\n        //ELIMINAR TAREAS cuando han comenzado de este array\n      }\n\n      else {\n        //console.log(\"DEPENDENCIA\");\n        for (let finalizada of this.tareasFinalizadas) {\n          //console.log(\"FINALIZADADEPENDENCIA\", finalizada, tarea.dependencia, finalizada.nombre);\n          if ((tarea.dependencia == finalizada.nombre) && (this.proyectoSimulacion.diasTotalesProyecto>=tarea.inicio)) {\n            tarea.diasEmpleados++;\n            tarea.estado = this.ESTADOSTAREAS.COMENZADA;\n            this.tareasEnProceso.push(tarea);\n            this.tareasQuePuedenComenzar.splice(this.tareasQuePuedenComenzar.indexOf(tarea), 1);\n\n            //this.tareasQuePuedenComenzar.shift();\n          }\n        }\n      }\n    }\n\n    //console.log(\"Pueden comenzar: \", this.tareasQuePuedenComenzar)\n\n  }\n\n  //Contiene las probabilidades que han superado el random\n  probabilidades = [];\n  calculoPertComenzadas() {\n\n    let random = this.getRandom();\n\n    for (let tarea of this.tareasEnProceso) {\n      //tarea.porcentaje=tarea.diasEmpleados/tarea.duracion;\n      //let dependencia = tarea.dependencia == null ? [] : [tarea.dependencia];\n      //console.log(dependencia,\"DEPENDENCIA\");\n\n      let activities = {};\n      let actividad = {\n        id: tarea.nombre,\n        optimisticTime: this.tiempoPesimoOptimo(tarea.duracion, tarea.pOptimo, true),\n        mostLikelyTime: tarea.duracion,\n        pessimisticTime: this.tiempoPesimoOptimo(tarea.duracion, tarea.pPesimo, false),\n        predecessors: []\n      };\n      activities[actividad.id] = actividad;\n\n      const pert = jsPERT(activities);\n\n      const Pz = pertProbability(pert, tarea.diasEmpleados);\n\n      //console.log(\"PROBABILIDAD DE CADA TAREA\", Pz, tarea.nombre, tarea.diasEmpleados, tarea.pOptimo, tarea.pPesimo, tarea.duracion);\n      //console.log(\"PROBABILIDAD DE CADA TAREA\", Pz, random);\n\n      if (Pz > random) {\n        this.tareasQuePuedenAcabar.push(tarea);\n        this.probabilidades.push(Pz);\n        //console.log(\"PUEDE ACABAR\",this.tareasQuePuedenAcabar,Pz,random,this.probabilidades);\n\n      }\n\n    }\n\n    if (this.tareasQuePuedenAcabar.length > 0) {\n\n      this.hayEvento = true;\n      this.tareasQuePuedenComenzar = [];\n      this.tareasEnProceso = [];\n      this.tareasFinalizadas = [];\n\n\n    }\n\n\n    //console.log(\"RAndom\", random, this.tareasQuePuedenAcabar);\n\n  }\n\n  getRandom() {\n    return Math.random();\n  }\n  tareasNoFinalizadas = [];\n  posicionesTareas = [];\n  replanificar = false;\n  modificarPlanificacion() {\n    let index = 0;\n    for (let tarea of this.proyectoSimulacion.tareas) {\n      if (tarea.estado != this.ESTADOSTAREAS.FINALIZADA) {\n        this.tareasNoFinalizadas.push(tarea);\n        this.posicionesTareas.push(index);\n      }\n      index++;\n    }\n    //console.log(\"tareas no finalizadas\",this.tareasNoFinalizadas,this.proyectoSimulacion.recursos);\n\n    this.simulacionPantalla = false;\n    this.replanificar = true;\n\n  }\n\n  async finReplanificacion() {\n    let index = 0;\n    for (let tarea of this.tareasNoFinalizadas) {\n      this.proyectoSimulacion.tareas[this.posicionesTareas[index]].recursos = tarea.recursos;\n      index++;\n    }\n\n    this.proyectoSimulacion.replanificado++;\n\n    let evento = {\n      dia: this.proyectoSimulacion.diasTotalesProyecto,\n      accion: 'replanificacion',\n      tareaImplicacada: 'No procede'\n    }\n\n    if(confirm(\"¿De verdad desea replanificar?\")){\n    }else{\n      return;\n    }\n\n    let insert = await this.firestoreService.setEvento(localStorage.getItem('idusuario'), evento);\n    //console.log(\"REPLANIFICACION\", this.proyectoSimulacion);\n    let query = await this.firestoreService.actualizaEstado(localStorage.getItem('idusuario'), this.proyectoSimulacion);\n\n\n    alert(\"Replanificado correctamente\");\n\n    location.reload();\n\n\n  }\n\n  // finalizacionProyecto(){\n\n  // }\n\n\n  //TABLAS CON RESULTADOS FINALES\n\n  tablaFinal=false;\n  eventos;\n\n  tablaFin(){\n\n    this.firestoreService.getEvento(localStorage.getItem('idusuario')).subscribe((eventos) => {\n\n\n      this.eventos = [];\n      for (let evento of eventos) {\n\n        this.eventos.push(evento.payload.doc.data());\n\n      }\n\n\n      this.eventos.sort(function (a, b) {\n        if (a.dia > b.dia) {\n          return 1;\n        }\n        if (a.dia < b.dia) {\n          return -1;\n        }\n        return 0;\n      });\n      //console.log('eventos', this.eventos);\n\n\n    });\n\n    this.tablaFinal=true;\n  }\n\n  downloadCSV(csv, filename) {\n    var csvFile;\n    var downloadLink;\n\n    csvFile = new Blob([csv], {type: \"text/csv\"});\n\n    downloadLink = document.createElement(\"a\");\n\n    downloadLink.download = filename;\n\n    downloadLink.href = window.URL.createObjectURL(csvFile);\n   \n    downloadLink.style.display = \"none\";\n\n    document.body.appendChild(downloadLink);\n\n    downloadLink.click();\n}\n\n\nexportTableToCSV() {\n  var csv = [];\n  var rows = document.querySelectorAll(\"table tr\");\n  \n  for (var i = 0; i < rows.length; i++) {\n      var row = [], cols = rows[i].querySelectorAll(\"td, th\");\n\n      for (var j = 0; j < cols.length; j++) {\n        row.push((<HTMLElement>cols[j]).innerText);\n      }\n\n      //PROBAR CON ;\n      csv.push(row.join(\";\"));        \n  }\n\n  // Download CSV file\n  //PONER EN NOMBRE EL NOMBRE DEL ALUMNO.\n\n  this.downloadCSV(csv.join(\"\\n\"), \"results.csv\");\n}\n\n\n//DELETE PROYECTOS\ncargando=false;\nasync borrarProyectos(){\n  //console.log(\"BORRANDO\");\n  if(confirm(\"¿Desea eliminar los datos?\")){\n    this.cargando=true;\n    await this.firestoreService.deleteAll(localStorage.getItem('idusuario'));\n    this.cargando=false;\n  }else{\n    return;\n  }  \n}\n\nasync borrarSimulacion(){\n  //console.log(\"BORRANDO\");\n  if(confirm(\"¿Desea eliminar los datos?\")){\n    await this.firestoreService.deleteSimulacion(localStorage.getItem('idusuario'));\n  }else{\n    return;\n  }  \n  \n}\nasync almacenarResultados(){\n  //console.log(this.eventos,this.alumno);\n  let data={\n    eventos : this.eventos,\n    usuario : this.alumno.usuario.data\n  }\n  if(confirm(\"¿Desea enviar los datos?\")){\n    await this.firestoreService.guardaResultados(data);\n    //await this.firestoreService.deleteAll(localStorage.getItem('idusuario'));\n  }else{\n    return;\n  }  \n}\n\n\nvalidateInput(numActual,numTotal,i,j){\n  if(numActual>numTotal){\n    this.proyectoTareas.tareas[i].recursos[j].cantidad=numTotal;\n  }\n  else if(numActual < 0){\n    this.proyectoTareas.tareas[i].recursos[j].cantidad=0;\n  }\n}\n\nvalidateInputReplanificacion(numActual){\n  if(numActual.cantidad < 0){\n    numActual.cantidad=0;\n  }\n}\nvalidateInputTarea(i,num,caso){\n  if (caso==0){\n    if(num<0){\n      this.proyectoTareas.tareas[i].inicio=0;\n    }\n  }\n  else{\n    if(num<0){\n      this.proyectoTareas.tareas[i].duracion=1;\n    }\n  }\n}\n\nvalidateInputCrear(recurso){\n  //console.log(recurso);\n  if(recurso.cantidad<0){\n    recurso.cantidad=0;\n  }\n}\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\nimport { AdminpanelComponent } from './adminpanel/adminpanel.component';\nimport { AlumnopanelComponent } from './alumnopanel/alumnopanel.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginComponent\n  },\n  {\n    path: 'admin',\n    component: AdminpanelComponent\n  },\n  {\n    path: 'alumno',\n    component: AlumnopanelComponent\n  },\n  {\n    path: '**',\n    component: LoginComponent,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'tfg';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\nimport { LoginComponent } from './login/login.component';\nimport { AdminpanelComponent } from './adminpanel/adminpanel.component';\n\nimport { AngularFireModule } from '@angular/fire';\nimport { environment } from '../environments/environment';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AlumnopanelComponent } from './alumnopanel/alumnopanel.component';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { GoogleChartsModule } from 'angular-google-charts';\n\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    AdminpanelComponent,\n    AlumnopanelComponent,\n    \n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    AngularFireModule.initializeApp(environment.firebaseConfig),\n    ReactiveFormsModule,\n    FormsModule,\n    GoogleChartsModule\n\n\n  ],\n  providers: [AngularFirestore,AngularFireAuth],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export default \"body {\\n    font-family: \\\"Lato\\\", sans-serif;\\n}\\n\\n\\n\\n.main-head{\\n    height: 150px;\\n    background: #FFF;\\n   \\n}\\n\\n\\n\\n.sidenav {\\n    height: 100%;\\n    background-color: #000;\\n    overflow-x: hidden;\\n    padding-top: 20px;\\n}\\n\\n\\n\\n.main {\\n    padding: 0px 10px;\\n}\\n\\n\\n\\n@media screen and (max-height: 450px) {\\n    .sidenav {padding-top: 15px;}\\n}\\n\\n\\n\\n@media screen and (max-width: 450px) {\\n    .login-form{\\n        margin-top: 10%;\\n    }\\n\\n    .register-form{\\n        margin-top: 10%;\\n    }\\n}\\n\\n\\n\\n@media screen and (min-width: 768px){\\n    .main{\\n        margin-left: 40%; \\n    }\\n\\n    .sidenav{\\n        width: 40%;\\n        position: fixed;\\n        z-index: 1;\\n        top: 0;\\n        left: 0;\\n    }\\n\\n    .login-form{\\n        margin-top: 80%;\\n    }\\n\\n    .register-form{\\n        margin-top: 20%;\\n    }\\n}\\n\\n\\n\\n.login-main-text{\\n    margin-top: 20%;\\n    padding: 60px;\\n    color: #fff;\\n}\\n\\n\\n\\n.login-main-text h2{\\n    font-weight: 300;\\n}\\n\\n\\n\\n.btn-black{\\n    background-color: #000 !important;\\n    color: #fff;\\n}\\n\\n\\n\\n.loginFail{\\n    color: darkred;\\n    \\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLCtCQUErQjtBQUNuQzs7OztBQUlBO0lBQ0ksYUFBYTtJQUNiLGdCQUFnQjs7QUFFcEI7Ozs7QUFFQTtJQUNJLFlBQVk7SUFDWixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtBQUNyQjs7OztBQUdBO0lBQ0ksaUJBQWlCO0FBQ3JCOzs7O0FBRUE7SUFDSSxVQUFVLGlCQUFpQixDQUFDO0FBQ2hDOzs7O0FBRUE7SUFDSTtRQUNJLGVBQWU7SUFDbkI7O0lBRUE7UUFDSSxlQUFlO0lBQ25CO0FBQ0o7Ozs7QUFFQTtJQUNJO1FBQ0ksZ0JBQWdCO0lBQ3BCOztJQUVBO1FBQ0ksVUFBVTtRQUNWLGVBQWU7UUFDZixVQUFVO1FBQ1YsTUFBTTtRQUNOLE9BQU87SUFDWDs7SUFFQTtRQUNJLGVBQWU7SUFDbkI7O0lBRUE7UUFDSSxlQUFlO0lBQ25CO0FBQ0o7Ozs7QUFHQTtJQUNJLGVBQWU7SUFDZixhQUFhO0lBQ2IsV0FBVztBQUNmOzs7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7Ozs7QUFFQTtJQUNJLGlDQUFpQztJQUNqQyxXQUFXO0FBQ2Y7Ozs7QUFFQTtJQUNJLGNBQWM7O0FBRWxCIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHkge1xuICAgIGZvbnQtZmFtaWx5OiBcIkxhdG9cIiwgc2Fucy1zZXJpZjtcbn1cblxuXG5cbi5tYWluLWhlYWR7XG4gICAgaGVpZ2h0OiAxNTBweDtcbiAgICBiYWNrZ3JvdW5kOiAjRkZGO1xuICAgXG59XG5cbi5zaWRlbmF2IHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgcGFkZGluZy10b3A6IDIwcHg7XG59XG5cblxuLm1haW4ge1xuICAgIHBhZGRpbmc6IDBweCAxMHB4O1xufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogNDUwcHgpIHtcbiAgICAuc2lkZW5hdiB7cGFkZGluZy10b3A6IDE1cHg7fVxufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0NTBweCkge1xuICAgIC5sb2dpbi1mb3Jte1xuICAgICAgICBtYXJnaW4tdG9wOiAxMCU7XG4gICAgfVxuXG4gICAgLnJlZ2lzdGVyLWZvcm17XG4gICAgICAgIG1hcmdpbi10b3A6IDEwJTtcbiAgICB9XG59XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KXtcbiAgICAubWFpbntcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDQwJTsgXG4gICAgfVxuXG4gICAgLnNpZGVuYXZ7XG4gICAgICAgIHdpZHRoOiA0MCU7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgIH1cblxuICAgIC5sb2dpbi1mb3Jte1xuICAgICAgICBtYXJnaW4tdG9wOiA4MCU7XG4gICAgfVxuXG4gICAgLnJlZ2lzdGVyLWZvcm17XG4gICAgICAgIG1hcmdpbi10b3A6IDIwJTtcbiAgICB9XG59XG5cblxuLmxvZ2luLW1haW4tdGV4dHtcbiAgICBtYXJnaW4tdG9wOiAyMCU7XG4gICAgcGFkZGluZzogNjBweDtcbiAgICBjb2xvcjogI2ZmZjtcbn1cblxuLmxvZ2luLW1haW4tdGV4dCBoMntcbiAgICBmb250LXdlaWdodDogMzAwO1xufVxuXG4uYnRuLWJsYWNre1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAgIWltcG9ydGFudDtcbiAgICBjb2xvcjogI2ZmZjtcbn1cblxuLmxvZ2luRmFpbHtcbiAgICBjb2xvcjogZGFya3JlZDtcbiAgICBcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\n\nimport { FirestoreService } from '../services/firestore/firestore.service';\nimport { ReactiveFormsModule, FormsModule, FormControl, Validators, FormGroup, FormBuilder } from '@angular/forms';\n\nimport { AutenticathionService } from '../services/authentication/authentication.service';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport {Router} from '@angular/router';\n\n\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  //Formulario registro usuarios\n  //public documentId = null;\n  public loginUserForm: FormGroup;\n  public usuarios = [];\n\n\n  constructor(\n    private firestoreService: FirestoreService,\n    public form: FormBuilder,\n    private authenticationService: AutenticathionService,\n    private router:Router) { }\n\n  ngOnInit() {\n\n  //SESION\n  localStorage.getItem('idusuario');\n  localStorage.getItem('usuario');\n\n\n    this.loginUserForm = this.form.group({\n      email: ['', Validators.required],\n      password: ['', Validators.required]\n\n    });\n\n    this.firestoreService.getUsuarios().subscribe((UsuariosSnapshot) => {\n      this.usuarios = [];\n      UsuariosSnapshot.forEach((alumnoData: any) => {\n        this.usuarios.push({\n          id: alumnoData.payload.doc.id,\n          data: alumnoData.payload.doc.data()\n        });\n        //console.log(this.usuarios[1]);\n      })\n    });\n  }\n\n\n  password: string = null;\n  email: string = null;\n\n\n  loginError=false;\n  login(form) {\n    this.email = form.email;\n    this.password = form.password;\n    let result=this.authenticationService.loginWithEmail(this.email, this.password).then(\n      (data) => {\n\n        //console.log(this.tipoUsuario());\n        if (this.tipoUsuario() == \"Profesor\") {\n          //console.log(data);\n          this.router.navigate(['admin']);\n        }\n        else if (this.tipoUsuario() == \"Alumno\"){\n          //console.log(data);\n          this.router.navigate(['alumno']);\n        }\n    }).catch((error) => {\n          this.loginError=true;\n          console.log(\"login error\");\n\n        });\n  }\n\n\n  tipoUsuario() {\n    for (let usuario of this.usuarios) {\n      if (usuario.data.email == this.email) {\n        console.log(usuario);\n        let id = usuario.id;\n        //SESION\n        localStorage.setItem('idusuario', id.toString());\n        localStorage.setItem('usuario',JSON.stringify(usuario));\n\n        //console.log(localStorage.getItem('usuario'));\n        return usuario.data.rol;\n      }\n    }\n    return null;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth'\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AutenticathionService {\n\n  constructor(private angularFireAuth: AngularFireAuth) { }\n\n\n  loginWithEmail(email: string, password: string) {\n    return this.angularFireAuth.auth.signInWithEmailAndPassword(email, password);\n  }\n\n  registerWithEmail(email: string, password: string) {\n    return this.angularFireAuth.auth.createUserWithEmailAndPassword(email, password);\n  }\n\n  getStatus() {\n    return this.angularFireAuth.authState;\n  }\n\n  logOut() {\n    return this.angularFireAuth.auth.signOut()\n  }\n\n  \n}\n\n\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport firebase from '@firebase/app';\nimport '@firebase/functions'\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FirestoreService {\n\n  constructor(private firestore: AngularFirestore) { }\n\n\n  //------------------ALUMNOS/USUARIOS-------------------\n\n  //Crea un nuevo alumno\n  public creaAlumno(data: { nombre: string, email: string, password: string, rol: string }) {\n    return this.firestore.collection('alumnos').add(data);\n  }\n\n  //Obtiene un alumno determinado\n  public getUsuario(documentId: string) {\n    return this.firestore.collection('alumnos').doc(documentId).snapshotChanges();\n  }\n\n  public getProyectosUsuario(documentId: string) {\n    return this.firestore.collection('alumnos').doc(documentId).collection('proyectos').snapshotChanges();\n  }\n\n  //Obtiene todos los alumnos\n  public getUsuarios() {\n    return this.firestore.collection('alumnos').snapshotChanges();\n\n  }\n\n\n  //Actualiza un alumno (Cambnio contraseña por ejemplo)\n  public updateAlumno(documentId: string, data: any) {\n    return this.firestore.collection('alumnos').doc(documentId).set(data);\n  }\n\n  public deleteAlumno(documentId: string) {\n    return this.firestore.collection('alumnos').doc(documentId).delete();\n  }\n  public deteteAlumnoAuth(email) {\n    var deleteFn = firebase.functions().httpsCallable('deleteUser');\n    console.log(email, deleteFn);\n    deleteFn({ email: email })\n      .then(function (result) {\n        console.log('Delete success: ' + JSON.stringify(result));\n      })\n      .catch(function (err) {\n        console.log('Delete failed, see console,');\n        console.warn(err);\n      });\n  }\n\n\n\n  //---------------TAREAS Y PROYECTOS--------------------\n\n  //Crea un nuevo proyecto\n  public creaProyecto(data: Object) {\n\n    let idAlumno = localStorage.getItem('idusuario');\n\n    return this.firestore.collection('alumnos/' + idAlumno + '/proyectos').add(data);\n  }\n\n  //Crea una nueva plantilla de proyecto\n  public creaPlantilla(data: Object) {\n\n    return this.firestore.collection('/plantillasProyectos').add(data);\n  }\n\n  //Obtiene todas las plantillas de proyectos\n  public getPlantillas() {\n\n    return this.firestore.collection('plantillasProyectos').snapshotChanges();\n  }\n\n\n\n  //VALIDACION RECURSOS\n\n  public actualizarProyecto(idAlumno: string, data: Object) {\n\n    return this.firestore.collection('alumnos/' + idAlumno + '/proyectos').add(data);\n\n  }\n\n  //Proyecto almacenaje resultados\n\n  guardaResultados(data: Object) {\n    return this.firestore.collection('resultados/').add(data);\n  }\n\n  getResultados() {\n    return this.firestore.collection('resultados').snapshotChanges();\n  }\n  //PROYECTO DELETE\n\n  public deleteAll(idAlumno) {\n\n    let path = 'alumnos/' + idAlumno + '/proyectos';\n    var deleteFn = firebase.functions().httpsCallable('recursiveDelete');\n    console.log(path, deleteFn);\n    deleteFn({ path: path })\n      .then(function (result) {\n        console.log('Delete success: ' + JSON.stringify(result));\n        path = 'alumnos/' + idAlumno + '/estadoSimulacion';\n        var deleteFn = firebase.functions().httpsCallable('recursiveDelete');\n        console.log(path, deleteFn);\n        deleteFn({ path: path })\n          .then(function (result) {\n            console.log('Delete success: ' + JSON.stringify(result));\n            path = 'alumnos/' + idAlumno + '/eventos';\n            var deleteFn = firebase.functions().httpsCallable('recursiveDelete');\n            console.log(path, deleteFn);\n            deleteFn({ path: path })\n              .then(function (result) {\n                console.log('Delete success: ' + JSON.stringify(result));\n              })\n              .catch(function (err) {\n                console.log('Delete failed, see console,');\n                console.warn(err);\n              });\n\n            alert(\"Datos del proyecto eliminados correctamente\");\n          })\n          .catch(function (err) {\n            console.log('Delete failed, see console,');\n            console.warn(err);\n          });\n      })\n      .catch(function (err) {\n        console.log('Delete failed, see console,');\n        console.warn(err);\n      });\n\n\n\n\n  }\n  public deleteProyectos(idAlumno) {\n    let path = 'alumnos/' + idAlumno + '/proyectos';\n    var deleteFn = firebase.functions().httpsCallable('recursiveDelete');\n    console.log(path, deleteFn);\n    deleteFn({ path: path })\n      .then(function (result) {\n        console.log('Delete success: ' + JSON.stringify(result));\n      })\n      .catch(function (err) {\n        console.log('Delete failed, see console,');\n        console.warn(err);\n      });\n  }\n\n  public deleteSimulacion(idAlumno) {\n    let path = 'alumnos/' + idAlumno + '/estadoSimulacion';\n    var deleteFn = firebase.functions().httpsCallable('recursiveDelete');\n    console.log(path, deleteFn);\n    deleteFn({ path: path })\n      .then(function (result) {\n        console.log('Delete success: ' + JSON.stringify(result));\n      })\n      .catch(function (err) {\n        console.log('Delete failed, see console,');\n        console.warn(err);\n      });\n    path = 'alumnos/' + idAlumno + '/eventos';\n    var deleteFn = firebase.functions().httpsCallable('recursiveDelete');\n    console.log(path, deleteFn);\n    deleteFn({ path: path })\n      .then(function (result) {\n        console.log('Delete success: ' + JSON.stringify(result));\n      })\n      .catch(function (err) {\n        console.log('Delete failed, see console,');\n        console.warn(err);\n      });\n\n    alert(\"Datos del proyecto eliminados correctamente\");\n    //location.reload();\n\n  }\n\n\n\n\n  //---------------SIMULACIÓN--------------------\n\n  //Nuevo estado Simulacion\n  public actualizaEstado(idAlumno: string, data: Object) {\n    return this.firestore.collection('alumnos/' + idAlumno + '/estadoSimulacion').add(data);\n\n  }\n\n\n  //Get all estados sumulacion\n  public getEstadoActual(documentId: string) {\n    return this.firestore.collection('alumnos').doc(documentId).collection('estadoSimulacion').snapshotChanges();\n\n  }\n\n\n  //Evento \n  public setEvento(idAlumno: string, data: Object) {\n    return this.firestore.collection('alumnos/' + idAlumno + '/eventos').add(data);\n  }\n\n  public getEvento(documentId: string) {\n    return this.firestore.collection('alumnos').doc(documentId).collection('eventos').snapshotChanges();\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebaseConfig : {\n    apiKey: \"AIzaSyBMd9pY-xb4WTfrNDzyIUPsI1HmDNXuESs\",\n    authDomain: \"tfg-planificaciones.firebaseapp.com\",\n    databaseURL: \"https://tfg-planificaciones.firebaseio.com\",\n    projectId: \"tfg-planificaciones\",\n    storageBucket: \"tfg-planificaciones.appspot.com\",\n    messagingSenderId: \"105859117075\",\n    appId: \"1:105859117075:web:e48c046d915f53f2580fe6\"\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}